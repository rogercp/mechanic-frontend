{"ast":null,"code":"var _jsxFileName = \"/Users/roger/Projects/mechanic-frontend/client/src/components/CarMaintenenceForm.js\";\nimport React, { useState } from 'react';\nimport Switch from '@material-ui/core/Switch';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport Button from '@material-ui/core/Button';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport { axiosWithAuth } from '../helpers/index';\nimport { withStyles } from '@material-ui/core/styles';\nimport { fetchFixes } from \"../store/actions/carMaintenenceActions\";\nimport { connect } from 'react-redux';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Dialog from '@material-ui/core/Dialog';\nimport CarFixImgUpload from './CarFixImgUpload';\nconst AntSwitch = withStyles(theme => ({\n  root: {\n    width: 28,\n    height: 16,\n    padding: 0,\n    display: 'flex'\n  },\n  switchBase: {\n    padding: 2,\n    color: theme.palette.grey[500],\n    '&$checked': {\n      transform: 'translateX(12px)',\n      color: theme.palette.common.white,\n      '& + $track': {\n        opacity: 1,\n        backgroundColor: theme.palette.primary.main,\n        borderColor: theme.palette.primary.main\n      }\n    }\n  },\n  thumb: {\n    width: 12,\n    height: 12,\n    boxShadow: 'none'\n  },\n  track: {\n    border: `1px solid ${theme.palette.grey[500]}`,\n    borderRadius: 16 / 2,\n    opacity: 1,\n    backgroundColor: theme.palette.common.white\n  },\n  checked: {}\n}))(Switch);\n/**\n *  Import styles\n */\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  margin: {\n    margin: theme.spacing(1)\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(3)\n  },\n  textField: {\n    width: 200\n  },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 200\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1)\n  },\n  dialog: {},\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2),\n    outline: 'none',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  title: {\n    paddingBottom: '10px'\n  },\n  body: {\n    paddingBottom: '20px'\n  }\n}));\n\nfunction CarMaintenenceForm(props) {\n  const classes = useStyles();\n  const [fullopen, setFullOpen] = useState(false);\n  const {\n    onClose,\n    open,\n    titleText,\n    bodyText,\n    redirect,\n    redirectText\n  } = props;\n  const [errorOpen, setErrorOpen] = useState(false);\n  const [currentMaintenence, setcurrentMaintenence] = useState({});\n  const [values, setValues] = React.useState({\n    fix_not_maintenence: false,\n    fix: '',\n    fix_price: '',\n    fix_description: '',\n    fix_date: new Date().toLocaleString()\n  }); // for stepper \n\n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = getSteps(); // stepper methods \n\n  function getSteps() {\n    return ['Create Car', 'Add Images'];\n  }\n\n  function getStepContent(stepIndex) {\n    switch (stepIndex) {\n      case 0:\n        return 'Create Car';\n\n      case 1:\n        return 'Add Images';\n\n      default:\n        return 'Unknown stepIndex';\n    }\n  }\n\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n  }; // \n  // modal methods being used \n\n\n  function handleClose() {\n    props.onClose();\n    handleReset();\n  }\n\n  const handlefullOpen = () => {\n    setFullOpen(true);\n  };\n\n  const handlefullClose = () => {\n    setFullOpen(false);\n  };\n\n  function handleErrorClose() {\n    setErrorOpen(false);\n  }\n\n  function handleErrorOpen() {\n    setErrorOpen(true);\n  }\n\n  const handleChange2 = name => event => {\n    setValues({ ...values,\n      [name]: event.target.checked\n    });\n  };\n\n  const handleChange = name => event => {\n    setValues({ ...values,\n      [name]: event.target.value\n    });\n  };\n\n  const handleDateChange = date => {\n    setValues({\n      fix_date: date\n    });\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    axiosWithAuth().post(`/car_fix/${props.car.id}`, values).then(res => {\n      handleNext();\n      setcurrentMaintenence(res.data);\n      props.fetchFixes(props.car.id);\n      handlefullOpen(); // props.handleClose();\n    }).catch(err => {});\n  };\n\n  console.log(currentMaintenence, \"curentMaintence\");\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    className: classes.dialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Stepper, {\n    activeStep: activeStep,\n    alternativeLabel: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }\n  }, steps.map(label => /*#__PURE__*/React.createElement(Step, {\n    key: label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(StepLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }, label))))), activeStep === 0 ? /*#__PURE__*/React.createElement(FormControl, {\n    fullWidth: true,\n    className: classes.margin,\n    onSubmit: onSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, values.fix_not_maintenence === false ? \"Maintence\" : \"Repair\"), /*#__PURE__*/React.createElement(AntSwitch, {\n    onChange: handleChange2('fix_not_maintenence'),\n    value: \"fix_not_maintenence\",\n    color: \"default\",\n    inputProps: {\n      'aria-label': 'checkbox with default color'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-textarea\",\n    onChange: handleChange('fix'),\n    name: \"fix\",\n    value: values.fix,\n    placeholder: values.fix_not_maintenence === false ? \"Maintence\" : \"Repair\",\n    multiline: true,\n    className: classes.textField,\n    margin: \"normal\",\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-multiline-static\",\n    multiline: true,\n    name: \"fix_description\",\n    value: values.fix_description,\n    onChange: handleChange('fix_description'),\n    rows: \"4\",\n    placeholder: \"Description\",\n    className: classes.textField,\n    margin: \"normal\",\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    label: \"Total Cost\",\n    value: values.fix_price,\n    name: \"fix_price\",\n    id: \"standard-start-adornment\",\n    onChange: handleChange('fix_price'),\n    className: clsx(classes.margin, classes.textField),\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 33\n        }\n      }, \"$\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n    utils: DateFnsUtils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n    margin: \"normal\",\n    id: \"date-picker-dialog\",\n    label: \"Task Completed\",\n    format: \"MM/dd/yyyy\",\n    value: values.fix_date,\n    onChange: handleDateChange,\n    KeyboardButtonProps: {\n      'aria-label': 'change date'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    className: classes.button,\n    onClick: onSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }\n  }, \"Enter\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CarFixImgUpload, {\n    carFix: currentMaintenence,\n    isForm: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 9\n    }\n  }, \"Done\")))));\n}\n\n;\n\nconst mapStateToProps = state => ({});\n\nexport default connect(mapStateToProps, {\n  fetchFixes\n})(CarMaintenenceForm);","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/client/src/components/CarMaintenenceForm.js"],"names":["React","useState","Switch","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDatePicker","Button","clsx","makeStyles","InputAdornment","FormControl","TextField","CloudUploadIcon","axiosWithAuth","withStyles","fetchFixes","connect","Stepper","Step","StepLabel","Dialog","CarFixImgUpload","AntSwitch","theme","root","width","height","padding","display","switchBase","color","palette","grey","transform","common","white","opacity","backgroundColor","primary","main","borderColor","thumb","boxShadow","track","border","borderRadius","checked","useStyles","flexWrap","margin","spacing","withoutLabel","marginTop","textField","container","marginLeft","marginRight","button","instructions","marginBottom","dialog","paper","background","shadows","outline","flexDirection","justifyContent","alignItems","title","paddingBottom","body","CarMaintenenceForm","props","classes","fullopen","setFullOpen","onClose","open","titleText","bodyText","redirect","redirectText","errorOpen","setErrorOpen","currentMaintenence","setcurrentMaintenence","values","setValues","fix_not_maintenence","fix","fix_price","fix_description","fix_date","Date","toLocaleString","activeStep","setActiveStep","steps","getSteps","getStepContent","stepIndex","handleNext","prevActiveStep","handleBack","handleReset","handleClose","handlefullOpen","handlefullClose","handleErrorClose","handleErrorOpen","handleChange2","name","event","target","handleChange","value","handleDateChange","date","onSubmitHandler","e","preventDefault","post","car","id","then","res","data","catch","err","console","log","map","label","startAdornment","mapStateToProps","state"],"mappings":"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","sourcesContent":["\n\nimport React, { useState } from 'react';\nimport Switch from '@material-ui/core/Switch';\nimport DateFnsUtils from '@date-io/date-fns';\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport Button from '@material-ui/core/Button';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport { axiosWithAuth } from '../helpers/index';\nimport { withStyles } from '@material-ui/core/styles';\nimport { fetchFixes } from \"../store/actions/carMaintenenceActions\";\nimport { connect } from 'react-redux';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Dialog from '@material-ui/core/Dialog';\nimport CarFixImgUpload from './CarFixImgUpload'\n\n\nconst AntSwitch = withStyles(theme => ({\n  root: {\n    width: 28,\n    height: 16,\n    padding: 0,\n    display: 'flex',\n  },\n  switchBase: {\n    padding: 2,\n    color: theme.palette.grey[500],\n    '&$checked': {\n      transform: 'translateX(12px)',\n      color: theme.palette.common.white,\n      '& + $track': {\n        opacity: 1,\n        backgroundColor: theme.palette.primary.main,\n        borderColor: theme.palette.primary.main,\n      },\n    },\n  },\n  thumb: {\n    width: 12,\n    height: 12,\n    boxShadow: 'none',\n  },\n  track: {\n    border: `1px solid ${theme.palette.grey[500]}`,\n    borderRadius: 16 / 2,\n    opacity: 1,\n    backgroundColor: theme.palette.common.white,\n  },\n  checked: {},\n}))(Switch);\n\n/**\n *  Import styles\n */\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  margin: {\n    margin: theme.spacing(1),\n\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(3),\n  },\n  textField: {\n    width: 200,\n  },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 200,\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  dialog: {\n\n  },\n  paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: '1px solid #000',\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2),\n      outline: 'none',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n  },\n  title: {\n      paddingBottom: '10px',\n  },\n  body: {\n      paddingBottom: '20px',\n  },\n}));\n\n\n\n\n\nfunction CarMaintenenceForm(props) {\n  const classes = useStyles();\n\n  const [fullopen, setFullOpen] = useState(false);\n  const { onClose, open, titleText, bodyText, redirect, redirectText } = props;\n  const [errorOpen, setErrorOpen] = useState(false);\n  const [currentMaintenence, setcurrentMaintenence] = useState({})\n  const [values, setValues] = React.useState({\n    fix_not_maintenence: false,\n    fix: '',\n    fix_price: '',\n    fix_description: '',\n    fix_date: new Date().toLocaleString()\n  });\n  // for stepper \n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = getSteps();\n\n\n// stepper methods \n  function getSteps() {\n    return ['Create Car', 'Add Images'];\n  }\n  \n  function getStepContent(stepIndex) {\n    switch (stepIndex) {\n      case 0:\n        return 'Create Car';\n      case 1:\n        return 'Add Images';\n      default:\n        return 'Unknown stepIndex';\n    }\n  }\n    \n  \n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n  };\n// \n\n// modal methods being used \n  function handleClose() {\n\n    props.onClose();\n    handleReset()\n}\n\n\nconst handlefullOpen = () => {\n  setFullOpen(true);\n};\nconst handlefullClose = () => {\n  setFullOpen(false);\n};\n\nfunction handleErrorClose() {\n  setErrorOpen(false);\n}\n\nfunction handleErrorOpen() {\n  setErrorOpen(true);\n}\n\n  const handleChange2 = name => event => {\n    setValues({ ...values, [name]: event.target.checked });\n  };\n\n\n  const handleChange = name => event => {\n    setValues({ ...values, [name]: event.target.value });\n  };\n\n\n  const handleDateChange = date => {\n    setValues({ fix_date: date })\n  };\n\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n\n    axiosWithAuth()\n      .post(`/car_fix/${props.car.id}`, values)\n      .then(res => {\n        handleNext()\n        setcurrentMaintenence(res.data)\n        props.fetchFixes(props.car.id);\n        handlefullOpen()\n        // props.handleClose();\n\n      })\n      .catch(err => {\n      });\n  };\n\n  console.log(currentMaintenence, \"curentMaintence\")\n\n  return (\n    <>\n    <Dialog open={open} onClose={handleClose} className={classes.dialog}>\n      <div className={classes.paper}>\n      <div className={classes.root}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      </div>\n\n      {activeStep === 0?\n          <FormControl fullWidth className={classes.margin} onSubmit={onSubmitHandler}>\n            <p>{values.fix_not_maintenence === false ? \"Maintence\" : \"Repair\"}</p>\n            <AntSwitch\n              onChange={handleChange2('fix_not_maintenence')}\n              value=\"fix_not_maintenence\"\n              color=\"default\"\n              inputProps={{ 'aria-label': 'checkbox with default color' }}\n            />\n            <TextField\n              id=\"outlined-textarea\"\n              onChange={handleChange('fix')}\n              name=\"fix\"\n              value={values.fix}\n              placeholder={values.fix_not_maintenence === false ? \"Maintence\" : \"Repair\"}\n              multiline\n              className={classes.textField}\n              margin=\"normal\"\n              variant=\"outlined\"\n            />\n            <TextField\n              id=\"outlined-multiline-static\"\n              multiline\n              name=\"fix_description\"\n              value={values.fix_description}\n              onChange={handleChange('fix_description')}\n              rows=\"4\"\n              placeholder=\"Description\"\n              className={classes.textField}\n              margin=\"normal\"\n              variant=\"outlined\"\n            />\n\n\n            <TextField\n              label=\"Total Cost\"\n              value={values.fix_price}\n              name=\"fix_price\"\n              id=\"standard-start-adornment\"\n              onChange={handleChange('fix_price')}\n              className={clsx(classes.margin, classes.textField)}\n              InputProps={{\n                startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\n              }}\n            />\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n\n              <KeyboardDatePicker\n                margin=\"normal\"\n                id=\"date-picker-dialog\"\n                label=\"Task Completed\"\n                format=\"MM/dd/yyyy\"\n                value={values.fix_date}\n                onChange={handleDateChange}\n                KeyboardButtonProps={{\n                  'aria-label': 'change date',\n                }}\n              />\n            </MuiPickersUtilsProvider>\n\n            {/* <Button\n              variant=\"contained\"\n              color=\"default\"\n              className={classes.button}\n              startIcon={<CloudUploadIcon />}\n            >\n              documents\n        </Button> */}\n\n\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              className={classes.button}\n              onClick={onSubmitHandler}\n            >\n              Enter\n        </Button>\n          </FormControl>\n\n        :\n        <>\n        <CarFixImgUpload carFix={currentMaintenence} isForm={true} />\n        <Button\n          className={classes.button}\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          onClick={handleClose}>\n\n          Done\n      </Button>\n      </>\n      \n      }\n\n\n   </div>\n    </Dialog>\n\n       \n     \n    </>\n  );\n};\n\n\n\n\nconst mapStateToProps = state => ({\n});\nexport default connect(\n  mapStateToProps,\n  { fetchFixes }\n)(CarMaintenenceForm);\n\n"]},"metadata":{},"sourceType":"module"}