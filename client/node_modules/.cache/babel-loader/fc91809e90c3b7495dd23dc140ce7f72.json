{"ast":null,"code":"import _slicedToArray from\"/Users/roger/Projects/mechanic-frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{imagesRef}from'../helpers/firebase';function CarImgShow(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),thisImage=_useState2[0],setThisimage=_useState2[1];var fileRef=imagesRef.child(\"\".concat(props.car.id,\"/\").concat(props.image.file_name));useEffect(function(){getImg();},[]);function getImg(){fileRef.getMetadata().then(function(metadata){fileRef.getDownloadURL().then(function(url){setThisimage(url);// let img = document.getElementById('document-image');\n// if (metadata.contentType === 'application/pdf') {\n//     img.src = '';\n//     // TODO handle PDFs\n//   } else {\n//     img.src = url;\n//   }\n}).catch(function(err){console.error(err);});}).catch(function(err){console.error(err);});}return React.createElement(React.Fragment,null,React.createElement(\"img\",{id:\"reg-image\",height:\"200px\",style:{maxWidth:'100%',maxHeight:'100%'},src:\"\".concat(thisImage)}));}export default CarImgShow;","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/client/src/components/CarImgShow.js"],"names":["React","useEffect","useState","imagesRef","CarImgShow","props","thisImage","setThisimage","fileRef","child","car","id","image","file_name","getImg","getMetadata","then","metadata","getDownloadURL","url","catch","err","console","error","maxWidth","maxHeight"],"mappings":"iIACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,qBAA1B,CAIA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,eAESH,QAAQ,CAAC,EAAD,CAFjB,wCAEhBI,SAFgB,eAENC,YAFM,eAIrB,GAAMC,CAAAA,OAAO,CAAGL,SAAS,CAACM,KAAV,WAAmBJ,KAAK,CAACK,GAAN,CAAUC,EAA7B,aAAmCN,KAAK,CAACO,KAAN,CAAYC,SAA/C,EAAhB,CAGFZ,SAAS,CAAC,UAAM,CACZa,MAAM,GACT,CAFQ,CAEN,EAFM,CAAT,CAIA,QAASA,CAAAA,MAAT,EAAkB,CACdN,OAAO,CAACO,WAAR,GAAsBC,IAAtB,CAA2B,SAACC,QAAD,CAAc,CACvCT,OAAO,CAACU,cAAR,GAAyBF,IAAzB,CAA8B,SAAAG,GAAG,CAAI,CAEnCZ,YAAY,CAACY,GAAD,CAAZ,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAXD,EAYCC,KAZD,CAYO,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,KAAR,CAAcF,GAAd,EACD,CAdD,EAeD,CAhBD,EAgBGD,KAhBH,CAgBS,SAACC,GAAD,CAAS,CAChBC,OAAO,CAACC,KAAR,CAAcF,GAAd,EACD,CAlBD,EAmBH,CAED,MACI,yCAEI,2BAAK,EAAE,CAAC,WAAR,CAAoB,MAAM,CAAC,OAA3B,CAAmC,KAAK,CAAE,CAACG,QAAQ,CAAC,MAAV,CAAiBC,SAAS,CAAC,MAA3B,CAA1C,CAA8E,GAAG,WAAKnB,SAAL,CAAjF,EAFJ,CADJ,CAQH,CAGD,cAAeF,CAAAA,UAAf","sourcesContent":["\nimport React, { useEffect, useState } from 'react';\nimport { imagesRef } from '../helpers/firebase';\n\n\n\nfunction CarImgShow(props) {\n\n    const [thisImage,setThisimage]= useState('')\n    \n      const fileRef = imagesRef.child(`${props.car.id}/${props.image.file_name}`);\n\n\n    useEffect(() => {\n        getImg()\n    }, []);\n\n    function getImg() {\n        fileRef.getMetadata().then((metadata) => {\n          fileRef.getDownloadURL().then(url => {\n\n            setThisimage(url)\n\n            // let img = document.getElementById('document-image');\n            // if (metadata.contentType === 'application/pdf') {\n            //     img.src = '';\n            //     // TODO handle PDFs\n            //   } else {\n            //     img.src = url;\n            //   }\n          })\n          .catch(err => {\n            console.error(err);\n          })\n        }).catch((err) => {\n          console.error(err);\n        });\n    }\n\n    return(\n        <>\n            {/* {(metadata.contentType === 'application/pdf')? <div id=\"div-pdf\" src={`${thisImage}`}></div> :  <img id=\"reg-image\" height=\"200px\" src={`${thisImage}`}></img>} */}\n            <img id=\"reg-image\" height=\"200px\" style={{maxWidth:'100%',maxHeight:'100%'}} src={`${thisImage}`}></img>\n            {/* {props.image.file_name} */}\n\n        </>\n    )\n}\n\n\nexport default CarImgShow;\n"]},"metadata":{},"sourceType":"module"}