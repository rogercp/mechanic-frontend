{"ast":null,"code":"import _slicedToArray from \"/Users/roger/Projects/mechanic-frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/roger/Projects/mechanic-frontend/client/src/components/UserSettingsLayout.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { axiosWithAuth } from '../helpers/index';\nimport { Button } from 'react-bootstrap';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport EditIcon from '@material-ui/icons/Edit';\nimport UserSettingsFormModal from './UserSettingsFormModal';\nimport Fab from '@material-ui/core/Fab';\nimport ImageIcon from '@material-ui/icons/Image';\nimport { connect } from 'react-redux';\nimport ProfileImageShow from './ProfileImageShow';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 500,\n    position: 'relative',\n    minHeight: 200\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2)\n  },\n  margin: {\n    margin: theme.spacing(1),\n    boxShadow: \"0 16px 19px rgba(0,0,0,0.2), 0 15px 15px rgba(0,0,0,0.2)\",\n    '&:hover': {\n      boxShadow: \"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"\n    }\n  }\n}));\n\nfunction UserSettingsLayout(props) {\n  const classes = useStyles();\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        open = _useState2[0],\n        setOpen = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        errorOpen = _useState4[0],\n        setErrorOpen = _useState4[1];\n\n  function handleOpen() {\n    setOpen(true);\n  }\n\n  function handleErrorOpen() {\n    setErrorOpen(true);\n  }\n\n  function handleClose() {\n    setOpen(false);\n  }\n\n  function handleErrorClose() {\n    setErrorOpen(false);\n  }\n\n  const userId = localStorage.getItem('id');\n\n  const submit = e => {\n    e.preventDefault();\n    confirmAlert({\n      customUI: ({\n        onClose\n      }) => {\n        return React.createElement(\"div\", {\n          className: \"custom-ui\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, \"Are you sure?\"), React.createElement(Button, {\n          variant: \"secondary\",\n          onClick: onClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"No\"), React.createElement(Button, {\n          variant: \"danger\",\n          onClick: () => {\n            const body = localStorage.getItem('id');\n            axiosWithAuth().put(\"/users/deactivate\", {\n              id: body\n            }).then(res => {\n              onClose();\n            }).catch(err => {\n              onClose();\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \"Yes\"));\n      }\n    });\n  };\n\n  if (props.userImage.map.length > 0) {\n    return React.createElement(React.Fragment, null, props.userImage.map.map((image, index) => {\n      return React.createElement(ProfileImageShow, {\n        key: index,\n        image: image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      });\n    }));\n  } else {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        marginLeft: \"64px\",\n        marginRight: \"-32px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"userName\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"exampleusername\")), React.createElement(\"div\", {\n      style: {\n        marginTop: \"15px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(UserSettingsFormModal, {\n      open: open,\n      onClose: handleClose,\n      titleText: \"User Info\",\n      bodyText: \"\",\n      redirect: \"/settings\",\n      redirectText: \"cars\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(Fab, {\n      color: \"none\",\n      \"aria-label\": \"add\",\n      style: {\n        color: \"darkcyan\",\n        outline: '0'\n      },\n      className: classes.margin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(EditIcon, {\n      onClick: handleOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Edit Info\"), React.createElement(Button, {\n      className: classes.margin,\n      onClick: submit,\n      variant: \"danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Delete Account\"))));\n  }\n\n  ;\n}\n\nconst mapStateToProps = state => ({\n  userImage: state.setting.userImage\n});\n\nexport default connect(mapStateToProps, {})(UserSettingsLayout);","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/client/src/components/UserSettingsLayout.js"],"names":["React","useState","useEffect","makeStyles","TextField","InputLabel","FormControl","axiosWithAuth","Button","confirmAlert","EditIcon","UserSettingsFormModal","Fab","ImageIcon","connect","ProfileImageShow","useStyles","theme","root","backgroundColor","palette","background","paper","width","position","minHeight","fab","bottom","spacing","right","margin","boxShadow","UserSettingsLayout","props","classes","open","setOpen","errorOpen","setErrorOpen","handleOpen","handleErrorOpen","handleClose","handleErrorClose","userId","localStorage","getItem","submit","e","preventDefault","customUI","onClose","body","put","id","then","res","catch","err","userImage","map","length","image","index","display","flexWrap","marginLeft","marginRight","marginTop","color","outline","mapStateToProps","state","setting"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect} from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { axiosWithAuth } from '../helpers/index';\nimport { Button } from 'react-bootstrap';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport EditIcon from '@material-ui/icons/Edit';\nimport UserSettingsFormModal from './UserSettingsFormModal'\nimport Fab from '@material-ui/core/Fab';\nimport ImageIcon from '@material-ui/icons/Image';\nimport { connect } from 'react-redux';\nimport ProfileImageShow from './ProfileImageShow';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n      backgroundColor: theme.palette.background.paper,\n      width: 500,\n      position: 'relative',\n      minHeight: 200,\n    },\n    fab: {\n      position: 'absolute',\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    \n    margin: {\n      margin: theme.spacing(1),\n      boxShadow: \"0 16px 19px rgba(0,0,0,0.2), 0 15px 15px rgba(0,0,0,0.2)\",\n      '&:hover':{\n          boxShadow: \"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"\n        },\n    },\n   \n  }));\n\nfunction UserSettingsLayout(props) {\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n    const [errorOpen, setErrorOpen] = useState(false);\n  \n   \n  \n    function handleOpen() {\n        setOpen(true);\n    }\n    function handleErrorOpen() {\n        setErrorOpen(true);\n    }\n    function handleClose() {\n        setOpen(false);\n    }\n    function handleErrorClose() {\n        setErrorOpen(false);\n    }\n  \n    const userId = localStorage.getItem('id');\n  \n  \n\n    const submit = (e) => {\n        e.preventDefault();\n            confirmAlert({\n                customUI: ({ onClose }) => {\n                return (\n                    <div className='custom-ui'>\n                    <h1>Are you sure?</h1>\n                    <Button variant=\"secondary\" onClick={onClose}>No</Button>\n                    <Button\n                     variant=\"danger\"\n                        onClick={() => {\n                            const body = localStorage.getItem('id');\n                            axiosWithAuth()\n                            .put(`/users/deactivate`,{id:body})\n                            .then(res => {  \n                                onClose();\n                            })\n                            .catch(err => {  \n                                onClose();    \n                            });  \n                        }}\n                    >\n                        Yes\n                    </Button>\n                    </div>\n                );\n                }\n            });    \n      };\n    \n\n     \nif(props.userImage.map.length > 0 ){\n        return (\n        <>\n                    {props.userImage.map.map((image, index) => {\n                        return <ProfileImageShow key={index} image={image}/>\n                    })} \n        </>\n        )\n    } else{\n\n    return (\n      <>\n        <div style={{display:\"flex\",flexWrap:\"wrap\",marginLeft:\"64px\",marginRight:\"-32px\"}}>\n\n        <div>\n        \n        {/* {props.userImage.length >0 ?  \n        (\n            <>\n            {props.userImage.map((image, index) => {\n                            return <ProfileImageShow />\n                })} \n            </>\n            )\n        : <ImageIcon style={{fontSize:\"200px\"}}/>} */}\n       \n       {/* <ProfileImageShow /> */}\n\n       \n\n        <p>userName</p><p>exampleusername{}</p></div>\n    \n        <div style={{marginTop:\"15px\"}}>\n        <UserSettingsFormModal\n            open={open}\n            onClose={handleClose}\n            titleText={\"User Info\"}\n            bodyText={\"\"}\n            redirect={\"/settings\"}\n            redirectText={\"cars\"}\n          />\n          \n          <Fab color=\"none\" aria-label=\"add\"  style={{color:\"darkcyan\",  outline:'0'}} className={classes.margin} >\n                <EditIcon\n            onClick={handleOpen}\n           />\n            </Fab>\n            <p>Edit Info</p>\n          \n            <Button  className={classes.margin} onClick={submit} variant=\"danger\">\n            Delete\n            </Button>\n            <p>Delete Account</p>\n            </div>\n            \n\n        </div>\n\n      </>\n    );\n    \n};\n\n\n}\nconst mapStateToProps = state => ({\n    userImage : state.setting.userImage\n  });\n  export default connect(\n    mapStateToProps,\n    {}\n  )(UserSettingsLayout);\n  "]},"metadata":{},"sourceType":"module"}