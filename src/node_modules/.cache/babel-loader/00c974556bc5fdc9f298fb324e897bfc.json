{"ast":null,"code":"// /**\n//  * Dependencies\n//  */\n// import React, { useEffect, useState } from 'react';\n// import { imagesRef } from '../helpers/firebase';\n// import axiosWithAuth from '../helpers/axiosWithAuth';\n// import Button from '@material-ui/core/Button';\n// import { makeStyles } from '@material-ui/core/styles';\n// import CloudUploadIcon from '@material-ui/icons/CloudUpload';\n// import ProfileImageShow from './ProfileImageShow';\n// import DriveEtaIcon from '@material-ui/icons/DriveEta';\n// const useStyles = makeStyles(theme => ({\n//     button: {\n//       margin: theme.spacing(1),\n//     },\n//   }));\n// /**\n//  * Define component\n//  */\n// function ProfileImageUpload(props) {\n//     const classes = useStyles();\n//     const userId = localStorage.getItem('id');\n//     const [userImage, setUserImage] = useState({});\n//     const [file, setFile] = useState({});\n//     useEffect(() => {\n//         fetchProfileImage();\n//     }, [file]);\n//     async function fetchProfileImage() {\n//         let userImages = await axiosWithAuth().get(`/car_fix/${props.carFix.id}/car_fix_images`)\n//         setUserImage(userImages.data);\n//         return fixImages;\n//     }\n//     function handleInputChanges(e) {\n//         e.preventDefault();\n//         const file = e.target.files[0]\n//         if (!file) {\n//             return;\n//         }\n//         if (file && file.size > 1e8) {\n//             alert(\"File is too large. Maximum limit is 100MB.\")\n//             e.target.value = ''\n//         } else {\n//             setFile(file);\n//         }\n//     }\n//     function handleSubmitUploaderProfilePicture(e) {\n//         e.preventDefault()\n//         // Create file ref (Example: /documents/:car_id/:file_name)\n//         const fileRef = imagesRef.child(`${props.carFix.id}/${file.name}`)\n//         // Upload file\n//         fileRef.put(file).then((snapshot) => {\n//             // console.log('Upload success!', snapshot.constructor, snapshot);\n//             axiosWithAuth().post(`/car_fix/${props.carFix.id}/car_fix_images`, { file_name: file.name })\n//                 .then(res => {\n//                     fetchProfileImage();\n//                     window.location.reload();               \n//                  })\n//                 .catch(error => {\n//                     console.error(error);\n//                 })\n//         }).catch(err => {\n//             console.error(err)\n//         });\n//     }\n//         return (\n//             <>\n//                 <div style={{height:\"200px\"}}>\n//                 {(props.carFix ? <p>no image</p>: null)} \n//                 <div style={{display:'flex',flexDirection:\"column\"}}>\n//                  <form onSubmit={handleSubmitUploaderProfilePicture}> \n//                 <input required id=\"uploader\" type=\"file\" accept=\"image/*,.pdf,.doc\" onChange={handleInputChanges}></input>\n//                     <Button\n//                     variant=\"contained\"\n//                     name=\"car_type\"\n//                     color=\"default\"\n//                     className={classes.button}\n//                     startIcon={<CloudUploadIcon />}\n//                     type =\"submit\"\n//                     >\n//                     Upload\n//                 </Button>\n//                 </form>\n//                 </div>\n//                 </div>\n//             </>\n//         )\n// }\n// /**\n//  *  Export component\n//  */\n// export default ProfileImageUpload;","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/src/components/ProfileImageUpload.js"],"names":[],"mappings":"AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAKA;AAEA;AACA;AACA;AAEA","sourcesContent":["// /**\n//  * Dependencies\n//  */\n\n// import React, { useEffect, useState } from 'react';\n// import { imagesRef } from '../helpers/firebase';\n// import axiosWithAuth from '../helpers/axiosWithAuth';\n// import Button from '@material-ui/core/Button';\n// import { makeStyles } from '@material-ui/core/styles';\n// import CloudUploadIcon from '@material-ui/icons/CloudUpload';\n// import ProfileImageShow from './ProfileImageShow';\n// import DriveEtaIcon from '@material-ui/icons/DriveEta';\n\n// const useStyles = makeStyles(theme => ({\n//     button: {\n//       margin: theme.spacing(1),\n//     },\n//   }));\n// /**\n//  * Define component\n//  */\n\n// function ProfileImageUpload(props) {\n\n//     const classes = useStyles();\n\n//     const userId = localStorage.getItem('id');\n    \n//     const [userImage, setUserImage] = useState({});\n//     const [file, setFile] = useState({});\n\n//     useEffect(() => {\n    \n//         fetchProfileImage();\n        \n//     }, [file]);\n\n//     async function fetchProfileImage() {\n//         let userImages = await axiosWithAuth().get(`/car_fix/${props.carFix.id}/car_fix_images`)\n//         setUserImage(userImages.data);\n//         return fixImages;\n//     }\n\n//     function handleInputChanges(e) {\n//         e.preventDefault();\n//         const file = e.target.files[0]\n//         if (!file) {\n//             return;\n//         }\n//         if (file && file.size > 1e8) {\n//             alert(\"File is too large. Maximum limit is 100MB.\")\n//             e.target.value = ''\n//         } else {\n//             setFile(file);\n//         }\n//     }\n\n\n//     function handleSubmitUploaderProfilePicture(e) {\n//         e.preventDefault()\n//         // Create file ref (Example: /documents/:car_id/:file_name)\n//         const fileRef = imagesRef.child(`${props.carFix.id}/${file.name}`)\n//         // Upload file\n//         fileRef.put(file).then((snapshot) => {\n//             // console.log('Upload success!', snapshot.constructor, snapshot);\n//             axiosWithAuth().post(`/car_fix/${props.carFix.id}/car_fix_images`, { file_name: file.name })\n//                 .then(res => {\n//                     fetchProfileImage();\n//                     window.location.reload();               \n//                  })\n//                 .catch(error => {\n//                     console.error(error);\n//                 })\n//         }).catch(err => {\n//             console.error(err)\n//         });\n//     }\n    \n\n\n  \n//         return (\n//             <>\n//                 <div style={{height:\"200px\"}}>\n//                 {(props.carFix ? <p>no image</p>: null)} \n//                 <div style={{display:'flex',flexDirection:\"column\"}}>\n//                  <form onSubmit={handleSubmitUploaderProfilePicture}> \n//                 <input required id=\"uploader\" type=\"file\" accept=\"image/*,.pdf,.doc\" onChange={handleInputChanges}></input>\n//                     <Button\n//                     variant=\"contained\"\n//                     name=\"car_type\"\n//                     color=\"default\"\n//                     className={classes.button}\n//                     startIcon={<CloudUploadIcon />}\n//                     type =\"submit\"\n//                     >\n//                     Upload\n//                 </Button>\n//                 </form>\n//                 </div>\n//                 </div>\n                \n//             </>\n//         )\n    \n   \n        \n    \n// }\n\n// /**\n//  *  Export component\n//  */\n\n// export default ProfileImageUpload;\n"]},"metadata":{},"sourceType":"module"}