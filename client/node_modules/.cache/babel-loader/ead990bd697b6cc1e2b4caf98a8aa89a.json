{"ast":null,"code":"import _slicedToArray from \"/Users/roger/Projects/mechanic-frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/roger/Projects/mechanic-frontend/client/src/components/UserSettingsLayout.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { axiosWithAuth } from '../helpers/index';\nimport { Button } from 'react-bootstrap';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport EditIcon from '@material-ui/icons/Edit';\nimport UserSettingsFormModal from './UserSettingsFormModal';\nimport Fab from '@material-ui/core/Fab';\nimport ImageIcon from '@material-ui/icons/Image';\nimport { connect } from 'react-redux';\nimport ProfileImageShow from './ProfileImageShow';\nimport { fetchProfileImage } from \"../store/actions/settingsActions\";\nimport Tooltip from '@material-ui/core/Tooltip';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 500,\n    position: 'relative',\n    minHeight: 200\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2)\n  },\n  margin: {\n    margin: theme.spacing(1),\n    boxShadow: \"0 16px 19px rgba(0,0,0,0.2), 0 15px 15px rgba(0,0,0,0.2)\",\n    '&:hover': {\n      boxShadow: \"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"\n    }\n  }\n}));\n\nfunction UserSettingsLayout(props) {\n  const classes = useStyles();\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        open = _useState2[0],\n        setOpen = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        errorOpen = _useState4[0],\n        setErrorOpen = _useState4[1];\n\n  function handleOpen() {\n    setOpen(true);\n  }\n\n  function handleErrorOpen() {\n    setErrorOpen(true);\n  }\n\n  function handleClose() {\n    setOpen(false);\n  }\n\n  function handleErrorClose() {\n    setErrorOpen(false);\n  }\n\n  const submit = e => {\n    e.preventDefault();\n    confirmAlert({\n      customUI: ({\n        onClose\n      }) => {\n        return React.createElement(\"div\", {\n          className: \"custom-ui\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"Are you sure?\"), React.createElement(Button, {\n          className: classes.margin,\n          variant: \"secondary\",\n          onClick: onClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \"No\"), React.createElement(Button, {\n          className: classes.margin,\n          variant: \"danger\",\n          onClick: () => {\n            const body = localStorage.getItem('id');\n            axiosWithAuth().put(\"/users/deactivate\", {\n              id: body\n            }).then(res => {\n              onClose();\n            }).catch(err => {\n              onClose();\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \"Yes\"));\n      }\n    });\n  };\n\n  const userId = localStorage.getItem('id');\n  const username = localStorage.getItem(\"username\");\n  useEffect(() => {\n    props.fetchProfileImage(userId);\n  }, []);\n  return React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"username:\", username != null ? username : null), props.userImage && props.userImage.length > 0 ? React.createElement(\"div\", {\n    style: {\n      width: \"200px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, props.userImage.map((image, index) => {\n    return React.createElement(ProfileImageShow, {\n      image: image,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    });\n  })) : null), React.createElement(\"div\", {\n    style: {\n      marginTop: \"15px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(UserSettingsFormModal, {\n    open: open,\n    onClose: handleClose,\n    titleText: \"User Info\",\n    bodyText: \"\",\n    redirect: \"/settings\",\n    redirectText: \"cars\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }), React.createElement(Tooltip, {\n    title: \"Edit Info\",\n    placement: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(Fab, {\n    color: \"none\",\n    \"aria-label\": \"add\",\n    style: {\n      color: \"darkcyan\",\n      outline: '0'\n    },\n    className: classes.margin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(EditIcon, {\n    onClick: handleOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }))), React.createElement(Tooltip, {\n    title: \"Delete Account\",\n    placement: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: classes.margin,\n    onClick: submit,\n    variant: \"danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"Delete Account\"))));\n}\n\n;\n\nconst mapStateToProps = state => ({\n  userImage: state.setting.userImage\n});\n\nexport default connect(mapStateToProps, {\n  fetchProfileImage\n})(UserSettingsLayout);","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/client/src/components/UserSettingsLayout.js"],"names":["React","useState","useEffect","makeStyles","TextField","InputLabel","FormControl","axiosWithAuth","Button","confirmAlert","EditIcon","UserSettingsFormModal","Fab","ImageIcon","connect","ProfileImageShow","fetchProfileImage","Tooltip","useStyles","theme","root","backgroundColor","palette","background","paper","width","position","minHeight","fab","bottom","spacing","right","margin","boxShadow","UserSettingsLayout","props","classes","open","setOpen","errorOpen","setErrorOpen","handleOpen","handleErrorOpen","handleClose","handleErrorClose","submit","e","preventDefault","customUI","onClose","body","localStorage","getItem","put","id","then","res","catch","err","userId","username","display","flexDirection","userImage","length","map","image","index","marginTop","color","outline","mapStateToProps","state","setting"],"mappings":";;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,YAAT,QAA6B,qBAA7B;AACA,OAAO,iDAAP;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,SAASC,iBAAT,QAAkC,kCAAlC;AACA,OAAOC,OAAP,MAAoB,2BAApB;AAGA,MAAMC,SAAS,GAAGf,UAAU,CAACgB,KAAK,KAAK;AACnCC,EAAAA,IAAI,EAAE;AACFC,IAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,UAAd,CAAyBC,KADxC;AAEFC,IAAAA,KAAK,EAAE,GAFL;AAGFC,IAAAA,QAAQ,EAAE,UAHR;AAIFC,IAAAA,SAAS,EAAE;AAJT,GAD6B;AAOnCC,EAAAA,GAAG,EAAE;AACDF,IAAAA,QAAQ,EAAE,UADT;AAEDG,IAAAA,MAAM,EAAEV,KAAK,CAACW,OAAN,CAAc,CAAd,CAFP;AAGDC,IAAAA,KAAK,EAAEZ,KAAK,CAACW,OAAN,CAAc,CAAd;AAHN,GAP8B;AAanCE,EAAAA,MAAM,EAAE;AACJA,IAAAA,MAAM,EAAEb,KAAK,CAACW,OAAN,CAAc,CAAd,CADJ;AAEJG,IAAAA,SAAS,EAAE,0DAFP;AAGJ,eAAW;AACPA,MAAAA,SAAS,EAAE;AADJ;AAHP;AAb2B,CAAL,CAAN,CAA5B;;AAuBA,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AAC/B,QAAMC,OAAO,GAAGlB,SAAS,EAAzB;;AAD+B,oBAGPjB,QAAQ,CAAC,KAAD,CAHD;AAAA;AAAA,QAGxBoC,IAHwB;AAAA,QAGlBC,OAHkB;;AAAA,qBAIGrC,QAAQ,CAAC,KAAD,CAJX;AAAA;AAAA,QAIxBsC,SAJwB;AAAA,QAIbC,YAJa;;AAQ/B,WAASC,UAAT,GAAsB;AAClBH,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH;;AACD,WAASI,eAAT,GAA2B;AACvBF,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACH;;AACD,WAASG,WAAT,GAAuB;AACnBL,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH;;AACD,WAASM,gBAAT,GAA4B;AACxBJ,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;;AAKD,QAAMK,MAAM,GAAIC,CAAD,IAAO;AAClBA,IAAAA,CAAC,CAACC,cAAF;AACAtC,IAAAA,YAAY,CAAC;AACTuC,MAAAA,QAAQ,EAAE,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAiB;AACvB,eACI;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAEI,oBAAC,MAAD;AAAQ,UAAA,SAAS,EAAEb,OAAO,CAACJ,MAA3B;AAAmC,UAAA,OAAO,EAAC,WAA3C;AAAuD,UAAA,OAAO,EAAEiB,OAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAGI,oBAAC,MAAD;AACI,UAAA,SAAS,EAAEb,OAAO,CAACJ,MADvB;AAEI,UAAA,OAAO,EAAC,QAFZ;AAGI,UAAA,OAAO,EAAE,MAAM;AACX,kBAAMkB,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAb;AACA7C,YAAAA,aAAa,GACR8C,GADL,sBAC8B;AAAEC,cAAAA,EAAE,EAAEJ;AAAN,aAD9B,EAEKK,IAFL,CAEUC,GAAG,IAAI;AACTP,cAAAA,OAAO;AACV,aAJL,EAKKQ,KALL,CAKWC,GAAG,IAAI;AACVT,cAAAA,OAAO;AACV,aAPL;AAQH,WAbL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHJ,CADJ;AAuBH;AAzBQ,KAAD,CAAZ;AA2BH,GA7BD;;AA+BA,QAAMU,MAAM,GAAGR,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAf;AACA,QAAMQ,QAAQ,GAAGT,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB;AAEAlD,EAAAA,SAAS,CAAC,MAAM;AAEZiC,IAAAA,KAAK,CAACnB,iBAAN,CAAwB2C,MAAxB;AAEH,GAJQ,EAIN,EAJM,CAAT;AAOA,SAEI;AAAK,IAAA,KAAK,EAAE;AAAEE,MAAAA,OAAO,EAAE,MAAX;AAAkBC,MAAAA,aAAa,EAAC;AAAhC,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAaF,QAAQ,IAAI,IAAZ,GAAmBA,QAAnB,GAA4B,IAAzC,CADA,EAEKzB,KAAK,CAAC4B,SAAN,IAAmB5B,KAAK,CAAC4B,SAAN,CAAgBC,MAAhB,GAAyB,CAA5C,GAEO;AAAK,IAAA,KAAK,EAAE;AAAEvC,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKU,KAAK,CAAC4B,SAAN,CAAgBE,GAAhB,CAAoB,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACnC,WAAO,oBAAC,gBAAD;AAAkB,MAAA,KAAK,EAAED,KAAzB;AAAgC,MAAA,GAAG,EAAEC,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH,GAFA,CADL,CAFP,GASE,IAXP,CAFJ,EAmBI;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,qBAAD;AACI,IAAA,IAAI,EAAE/B,IADV;AAEI,IAAA,OAAO,EAAEM,WAFb;AAGI,IAAA,SAAS,EAAE,WAHf;AAII,IAAA,QAAQ,EAAE,EAJd;AAKI,IAAA,QAAQ,EAAE,WALd;AAMI,IAAA,YAAY,EAAE,MANlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAWI,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,WAAf;AAA2B,IAAA,SAAS,EAAC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAC,MAAX;AAAkB,kBAAW,KAA7B;AAAmC,IAAA,KAAK,EAAE;AAAE0B,MAAAA,KAAK,EAAE,UAAT;AAAqBC,MAAAA,OAAO,EAAE;AAA9B,KAA1C;AAA+E,IAAA,SAAS,EAAElC,OAAO,CAACJ,MAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,QAAD;AAEI,IAAA,OAAO,EAAES,UAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADA,CAXJ,EAmBI,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,gBAAf;AAAgC,IAAA,SAAS,EAAC,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEL,OAAO,CAACJ,MAA3B;AAAmC,IAAA,OAAO,EAAEa,MAA5C;AAAoD,IAAA,OAAO,EAAC,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,CAnBJ,CAnBJ,CAFJ;AAsDH;;AAAA;;AAKD,MAAM0B,eAAe,GAAGC,KAAK,KAAK;AAC9BT,EAAAA,SAAS,EAAES,KAAK,CAACC,OAAN,CAAcV;AADK,CAAL,CAA7B;;AAGA,eAAejD,OAAO,CAClByD,eADkB,EAElB;AAAEvD,EAAAA;AAAF,CAFkB,CAAP,CAGbkB,kBAHa,CAAf","sourcesContent":["\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { axiosWithAuth } from '../helpers/index';\nimport { Button } from 'react-bootstrap';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport EditIcon from '@material-ui/icons/Edit';\nimport UserSettingsFormModal from './UserSettingsFormModal'\nimport Fab from '@material-ui/core/Fab';\nimport ImageIcon from '@material-ui/icons/Image';\nimport { connect } from 'react-redux';\nimport ProfileImageShow from './ProfileImageShow';\nimport { fetchProfileImage } from \"../store/actions/settingsActions\";\nimport Tooltip from '@material-ui/core/Tooltip';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        width: 500,\n        position: 'relative',\n        minHeight: 200,\n    },\n    fab: {\n        position: 'absolute',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n\n    margin: {\n        margin: theme.spacing(1),\n        boxShadow: \"0 16px 19px rgba(0,0,0,0.2), 0 15px 15px rgba(0,0,0,0.2)\",\n        '&:hover': {\n            boxShadow: \"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"\n        },\n    },\n\n}));\n\nfunction UserSettingsLayout(props) {\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n    const [errorOpen, setErrorOpen] = useState(false);\n\n\n\n    function handleOpen() {\n        setOpen(true);\n    }\n    function handleErrorOpen() {\n        setErrorOpen(true);\n    }\n    function handleClose() {\n        setOpen(false);\n    }\n    function handleErrorClose() {\n        setErrorOpen(false);\n    }\n\n\n\n\n    const submit = (e) => {\n        e.preventDefault();\n        confirmAlert({\n            customUI: ({ onClose }) => {\n                return (\n                    <div className='custom-ui'>\n                        <h1>Are you sure?</h1>\n                        <Button className={classes.margin} variant=\"secondary\" onClick={onClose}>No</Button>\n                        <Button\n                            className={classes.margin}\n                            variant=\"danger\"\n                            onClick={() => {\n                                const body = localStorage.getItem('id');\n                                axiosWithAuth()\n                                    .put(`/users/deactivate`, { id: body })\n                                    .then(res => {\n                                        onClose();\n                                    })\n                                    .catch(err => {\n                                        onClose();\n                                    });\n                            }}\n                        >\n                            Yes\n                    </Button>\n                    </div>\n                );\n            }\n        });\n    };\n\n    const userId = localStorage.getItem('id');\n    const username = localStorage.getItem(\"username\");\n\n    useEffect(() => {\n\n        props.fetchProfileImage(userId)\n\n    }, []);\n\n\n    return (\n\n        <div style={{ display: \"flex\",flexDirection:\"column\"}}>\n\n            <div>\n            <p>username:{username != null ? username:null}</p>\n                {props.userImage && props.userImage.length > 0 ?\n                    (\n                        <div style={{ width: \"200px\" }}>\n                            {props.userImage.map((image, index) => {\n                                return <ProfileImageShow image={image} key={index} />\n                            })}\n                        </div>\n                    )\n                    : \n                   null\n                    }\n\n\n               </div>\n\n            <div style={{ marginTop: \"15px\" }}>\n                <UserSettingsFormModal\n                    open={open}\n                    onClose={handleClose}\n                    titleText={\"User Info\"}\n                    bodyText={\"\"}\n                    redirect={\"/settings\"}\n                    redirectText={\"cars\"}\n                />\n\n\n                <Tooltip title=\"Edit Info\" placement=\"left\">\n                <Fab color=\"none\" aria-label=\"add\" style={{ color: \"darkcyan\", outline: '0' }} className={classes.margin} >\n                    <EditIcon\n\n                        onClick={handleOpen}\n                    />\n                </Fab>\n                </Tooltip>\n                <Tooltip title=\"Delete Account\" placement=\"right\">\n                <Button className={classes.margin} onClick={submit} variant=\"danger\">\n                    Delete Account\n            </Button>\n            </Tooltip>\n            \n            </div>\n\n\n        </div>\n\n\n    );\n\n};\n\n\n\n\nconst mapStateToProps = state => ({\n    userImage: state.setting.userImage\n});\nexport default connect(\n    mapStateToProps,\n    { fetchProfileImage }\n)(UserSettingsLayout);\n"]},"metadata":{},"sourceType":"module"}