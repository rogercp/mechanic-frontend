{"ast":null,"code":"import _slicedToArray from\"/Users/roger/Projects/mechanic-frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/roger/Projects/mechanic-frontend/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useState}from'react';import{axiosWithAuth}from'../helpers/index';import IconButton from'@material-ui/core/IconButton';import DeleteIcon from'@material-ui/icons/Delete';import EditIcon from'@material-ui/icons/Edit';import ExpansionPanel from'@material-ui/core/ExpansionPanel';import ExpansionPanelSummary from'@material-ui/core/ExpansionPanelSummary';import ExpansionPanelDetails from'@material-ui/core/ExpansionPanelDetails';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import Toolbar from\"@material-ui/core/Toolbar\";import Button from\"@material-ui/core/Button\";import{makeStyles}from'@material-ui/core/styles';import BuildIcon from'@material-ui/icons/Build';import AlarmOnIcon from'@material-ui/icons/AlarmOn';import ImageCarousel from'./ImageCarousel';import DescriptionIcon from'@material-ui/icons/Description';import CarFixImgUpload from'./CarFixImgUpload';import'../styles/fullscreenmodal.scss';var useStyles=makeStyles(function(theme){var _paper;return{button:{margin:theme.spacing(1)},submitbutton:{justifyContent:'center'},modal:{position:'absolute',margin:'0 auto'},paper:(_paper={height:'50px',backgroundColor:theme.palette.background.paper,boxShadow:theme.shadows[5],padding:theme.spacing(0,0,0),outline:'none',margin:'1%',flexDirection:\"column\",justifyContent:\"space-between\",alignItems:\"center\"},_defineProperty(_paper,\"boxShadow\",\"0 16px 19px rgba(0,0,0,0.2), 0 15px 15px rgba(0,0,0,0.2)\"),_defineProperty(_paper,'&:hover',{boxShadow:\"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"}),_defineProperty(_paper,theme.breakpoints.down('md'),{width:'100%',height:'100%'}),_defineProperty(_paper,theme.breakpoints.down('sm'),{padding:theme.spacing(0,0,0),width:'90%',height:'100%'}),_paper),expand:{transform:'rotate(0deg)',marginLeft:'auto',transition:theme.transitions.create('transform',{duration:theme.transitions.duration.shortest})},expandOpen:{transform:'rotate(180deg)'},top:{display:'flex',flexDirection:'row',alignItems:'center'},margin:{color:'red',outline:'0'},root:{width:'100%'}};});function CarMaintenceCard(props){var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),fullopen=_useState2[0],setFullOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),errorOpen=_useState4[0],setErrorOpen=_useState4[1];function handleDelete2(){axiosWithAuth().delete(\"\".concat(process.env.REACT_APP_API_URL,\"/car_fix/\").concat(props.carFix.id)).then(function(res){props.fetchCarFixes();}).catch(function(error){console.error(error);});}var handlefullOpen=function handlefullOpen(){setFullOpen(true);};var handlefullClose=function handlefullClose(){setFullOpen(false);};function handleErrorClose(){setErrorOpen(false);}function handleErrorOpen(){setErrorOpen(true);}return React.createElement(React.Fragment,null,React.createElement(\"div\",{style:{width:'80%',maxWidth:\"1300px\"}},React.createElement(ExpansionPanel,{style:{width:\"100%\",margin:\"1rem\",overFlow:\"auto\"}},React.createElement(ExpansionPanelSummary,{expandIcon:React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel1a-content\",id:\"panel1a-header\"},React.createElement(\"p\",null,props.carFix.fix_date),React.createElement(\"p\",null,props.carFix.fix),props.carFix.fix_not_maintenence?React.createElement(BuildIcon,null):React.createElement(AlarmOnIcon,null)),React.createElement(ExpansionPanelDetails,{id:\"panelbody\"},React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"spaceBetween\"}},React.createElement(\"div\",{style:{width:\"70%\",textAlign:\"left !important\"}},React.createElement(\"p\",{style:{textAlign:\"left!important\"}},\"$\",props.carFix.fix_price),React.createElement(\"p\",null,props.carFix.fix_description)),React.createElement(CarFixImgUpload,{carFix:props.carFix}),React.createElement(Toolbar,{style:{display:\"flex\",flexDirection:\"row\",alignItems:\"spaceBetween\",justifyContent:\"spaceBetween\"}},React.createElement(Button,{id:\"edit\"},React.createElement(EditIcon,null)),React.createElement(IconButton,{id:\"del\",\"aria-label\":\"delete\",className:classes.margin,onClick:handleDelete2},React.createElement(DeleteIcon,null))))))));}export default CarMaintenceCard;","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/client/src/components/CarMaintenenceCard.js"],"names":["React","useState","axiosWithAuth","IconButton","DeleteIcon","EditIcon","ExpansionPanel","ExpansionPanelSummary","ExpansionPanelDetails","ExpandMoreIcon","Toolbar","Button","makeStyles","BuildIcon","AlarmOnIcon","ImageCarousel","DescriptionIcon","CarFixImgUpload","useStyles","theme","button","margin","spacing","submitbutton","justifyContent","modal","position","paper","height","backgroundColor","palette","background","boxShadow","shadows","padding","outline","flexDirection","alignItems","breakpoints","down","width","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","top","display","color","root","CarMaintenceCard","props","classes","fullopen","setFullOpen","errorOpen","setErrorOpen","handleDelete2","delete","process","env","REACT_APP_API_URL","carFix","id","then","res","fetchCarFixes","catch","error","console","handlefullOpen","handlefullClose","handleErrorClose","handleErrorOpen","maxWidth","overFlow","fix_date","fix","fix_not_maintenence","textAlign","fix_price","fix_description"],"mappings":"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","sourcesContent":["\nimport React, {useState} from 'react';\nimport { axiosWithAuth } from '../helpers/index';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport BuildIcon from '@material-ui/icons/Build';\nimport AlarmOnIcon from '@material-ui/icons/AlarmOn';\nimport ImageCarousel from './ImageCarousel';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport CarFixImgUpload from './CarFixImgUpload';\n\n\nimport  '../styles/fullscreenmodal.scss'\n\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n        margin: theme.spacing(1)\n    },\n    submitbutton: {\n        justifyContent: 'center',\n    },\n    modal: {\n        position: 'absolute',\n        margin: '0 auto',\n    },\n    paper: {\n      height: '50px',\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(0, 0, 0),\n      outline: 'none',\n      margin:'1%',\n      flexDirection: \"column\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      boxShadow: \"0 16px 19px rgba(0,0,0,0.2), 0 15px 15px rgba(0,0,0,0.2)\",\n      '&:hover':{\n          boxShadow: \"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"\n        },\n      [theme.breakpoints.down('md')]: {\n          width: '100%',\n          height: '100%',\n      },\n      [theme.breakpoints.down('sm')]: {\n          padding: theme.spacing(0,0,0),\n          width:'90%',\n          height: '100%',\n      },\n    },\n        expand: {\n          transform: 'rotate(0deg)',\n          marginLeft: 'auto',\n          transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n          }),\n        },\n        expandOpen: {\n          transform: 'rotate(180deg)',\n        },\n        top:{\n          display:'flex',\n          flexDirection:'row',\n          alignItems:'center',\n        },\n        margin:{\n            color:'red',\n              outline:'0',\n        },\n        root: {\n          width: '100%',\n        },\n        \n  }))\n  \n\n\n\n\nfunction CarMaintenceCard(props) {\n\n    const classes = useStyles();\n    const [fullopen, setFullOpen] = useState(false);\n    const [errorOpen, setErrorOpen] = useState(false);\n\n\n    function handleDelete2() {\n        axiosWithAuth()\n            .delete(`${process.env.REACT_APP_API_URL}/car_fix/${props.carFix.id}`)\n            .then(res => {\n                props.fetchCarFixes()\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    }\n    \n   \n\n    const handlefullOpen = () => {\n        setFullOpen(true);\n    };\n    const handlefullClose = () => {\n        setFullOpen(false);\n    };\n\n    function handleErrorClose() {\n        setErrorOpen(false);\n    }\n    \n    function handleErrorOpen() {\n        setErrorOpen(true);\n    }\n\n\n\n    return (\n        <>\n        <div style={{width:'80%',maxWidth:\"1300px\"}}>\n\n            <ExpansionPanel style={{width:\"100%\",margin:\"1rem\",overFlow:\"auto\"}}>\n\n            <ExpansionPanelSummary\n            expandIcon={<ExpandMoreIcon />}\n            aria-controls=\"panel1a-content\"\n            id=\"panel1a-header\"\n            >\n            <p>{props.carFix.fix_date}</p>\n            <p>{props.carFix.fix}</p> \n            {props.carFix.fix_not_maintenence ? <BuildIcon/>: <AlarmOnIcon/>}\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails id=\"panelbody\">\n\n            <div style={{display:\"flex\",flexDirection:\"column\",justifyContent:\"spaceBetween\"}}>\n            <div style={{width:\"70%\",textAlign:\"left !important\"}}>\n                <p style={{textAlign:\"left!important\"}}>${props.carFix.fix_price}</p>\n                <p>{props.carFix.fix_description}</p>\n               \n            </div>\n\n            \n            {/* opens carousel */}\n            {/* <Button\n           style={{color:\"darkcyan\",  outline:'0'}}\n                   onClick={handlefullOpen}\n                   >\n\n           <DescriptionIcon/>\n           </Button> */}\n\n           <CarFixImgUpload carFix={props.carFix}/>\n\n            <Toolbar style={{display:\"flex\",flexDirection:\"row\",alignItems:\"spaceBetween\",justifyContent:\"spaceBetween\"}} >\n\n                <Button\n                    id=\"edit\"\n                >\n                    <EditIcon />\n                </Button>\n\n\n                <IconButton id=\"del\"  aria-label=\"delete\"  className={classes.margin} onClick={handleDelete2}>\n                <DeleteIcon  />    \n                </IconButton> \n\n            </Toolbar>\n            </div>\n{/* \n            <ImageCarousel\n                open={fullopen}\n                handleClose={handlefullClose}\n                onClose={handlefullClose}\n                car={props.car}\n\n            /> */}\n            </ExpansionPanelDetails>\n            </ExpansionPanel>\n\n        </div>\n        \n      \n        </>\n       )\n}\n\n\nexport default CarMaintenceCard;\n"]},"metadata":{},"sourceType":"module"}