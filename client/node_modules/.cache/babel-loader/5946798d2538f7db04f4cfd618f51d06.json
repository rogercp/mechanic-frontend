{"ast":null,"code":"import _defineProperty from\"/Users/roger/Projects/mechanic-frontend/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/roger/Projects/mechanic-frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{imagesRef}from'../helpers/firebase';import{Image}from'react-bootstrap';function ProfileImageShow(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),thisImage=_useState2[0],setThisimage=_useState2[1];var fileRef=imagesRef.child(\"\".concat(props.userId,\"/\").concat(props.image.file_name));useEffect(function(){getImg();},[]);function getImg(){fileRef.getMetadata().then(function(metadata){fileRef.getDownloadURL().then(function(url){setThisimage(url);// let img = document.getElementById('document-image');\n// if (metadata.contentType === 'application/pdf') {\n//     img.src = '';\n//     // TODO handle PDFs\n//   } else {\n//     img.src = url;\n//   }\n}).catch(function(err){console.error(err);});}).catch(function(err){console.error(err);});}return React.createElement(React.Fragment,null,React.createElement(Image,_defineProperty({src:\"holder.js/171x180\",rounded:true,id:\"reg-image\",style:{height:\"200px\"}},\"src\",\"\".concat(thisImage))));}export default ProfileImageShow;","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/client/src/components/ProfileImageShow.js"],"names":["React","useEffect","useState","imagesRef","Image","ProfileImageShow","props","thisImage","setThisimage","fileRef","child","userId","image","file_name","getImg","getMetadata","then","metadata","getDownloadURL","url","catch","err","console","error","height"],"mappings":"oQAEA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,qBAA1B,CACA,OAASC,KAAT,KAAsB,iBAAtB,CAKA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,eAEGJ,QAAQ,CAAC,EAAD,CAFX,wCAEtBK,SAFsB,eAEZC,YAFY,eAI3B,GAAMC,CAAAA,OAAO,CAAGN,SAAS,CAACO,KAAV,WAAmBJ,KAAK,CAACK,MAAzB,aAAmCL,KAAK,CAACM,KAAN,CAAYC,SAA/C,EAAhB,CAGFZ,SAAS,CAAC,UAAM,CACZa,MAAM,GACT,CAFQ,CAEN,EAFM,CAAT,CAIA,QAASA,CAAAA,MAAT,EAAkB,CACdL,OAAO,CAACM,WAAR,GAAsBC,IAAtB,CAA2B,SAACC,QAAD,CAAc,CACvCR,OAAO,CAACS,cAAR,GAAyBF,IAAzB,CAA8B,SAAAG,GAAG,CAAI,CAEnCX,YAAY,CAACW,GAAD,CAAZ,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAXD,EAYCC,KAZD,CAYO,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,KAAR,CAAcF,GAAd,EACD,CAdD,EAeD,CAhBD,EAgBGD,KAhBH,CAgBS,SAACC,GAAD,CAAS,CAChBC,OAAO,CAACC,KAAR,CAAcF,GAAd,EACD,CAlBD,EAmBH,CAED,MACI,yCAEI,oBAAC,KAAD,kBAAO,GAAG,CAAC,mBAAX,CAA+B,OAAO,KAAtC,CAAuC,EAAE,CAAC,WAA1C,CAAuD,KAAK,CAAE,CAACG,MAAM,CAAC,OAAR,CAA9D,kBAAwFjB,SAAxF,GAFJ,CADJ,CAQH,CAID,cAAeF,CAAAA,gBAAf","sourcesContent":["\n\nimport React, { useEffect, useState } from 'react';\nimport { imagesRef } from '../helpers/firebase';\nimport { Image } from 'react-bootstrap';\n\n\n\n\nfunction ProfileImageShow(props) {\n\n    const [thisImage,setThisimage]= useState('')\n    \n      const fileRef = imagesRef.child(`${props.userId}/${props.image.file_name}`);\n\n\n    useEffect(() => {\n        getImg()\n    }, []);\n\n    function getImg() {\n        fileRef.getMetadata().then((metadata) => {\n          fileRef.getDownloadURL().then(url => {\n\n            setThisimage(url)\n\n            // let img = document.getElementById('document-image');\n            // if (metadata.contentType === 'application/pdf') {\n            //     img.src = '';\n            //     // TODO handle PDFs\n            //   } else {\n            //     img.src = url;\n            //   }\n          })\n          .catch(err => {\n            console.error(err);\n          })\n        }).catch((err) => {\n          console.error(err);\n        });\n    }\n\n    return(\n        <>\n            {/* {(metadata.contentType === 'application/pdf')? <div id=\"div-pdf\" src={`${thisImage}`}></div> :  <img id=\"reg-image\" height=\"200px\" src={`${thisImage}`}></img>} */}\n            <Image src=\"holder.js/171x180\" rounded id=\"reg-image\"  style={{height:\"200px\"}} src={`${thisImage}`}/>\n            {/* {props.image.file_name} */}\n\n        </>\n    )\n}\n\n\n\nexport default ProfileImageShow;"]},"metadata":{},"sourceType":"module"}