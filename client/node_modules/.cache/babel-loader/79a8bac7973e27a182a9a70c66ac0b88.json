{"ast":null,"code":"import{axiosWithAuth}from'../../helpers/index';import axios from'axios';export var ADD_POST_START='ADD_POST_START';export var ADD_POST_SUCCESS='ADD_POST_SUCCESS';export var ADD_POST_FAILURE='ADD_POST_FAILURE';export var addPost=function addPost(post){return function(dispatch){console.log(post,\"post\");dispatch({type:ADD_POST_START});return axiosWithAuth().post('/post',post).then(function(res){dispatch({type:ADD_POST_SUCCESS,payload:res.data});window.location.reload();}).catch(function(err){dispatch({type:ADD_POST_FAILURE,payload:err.response});});};};export var FETCH_POST_START='FETCH_POST_START';export var FETCH_POST_SUCCESS='FETCH_POST_SUCCESS';export var FETCH_POST_FAILURE='FETCH_POST_FAILURE';export var fetchPosts=function fetchPosts(){return function(dispatch){dispatch({type:FETCH_POST_START});axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/post/all\")).then(function(res){console.log(res.data,\"data\");dispatch({type:FETCH_POST_SUCCESS,payload:res.data});}).catch(function(err){dispatch({type:FETCH_POST_FAILURE,payload:err.response});});};};","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/client/src/store/actions/postActions.js"],"names":["axiosWithAuth","axios","ADD_POST_START","ADD_POST_SUCCESS","ADD_POST_FAILURE","addPost","post","dispatch","console","log","type","then","res","payload","data","window","location","reload","catch","err","response","FETCH_POST_START","FETCH_POST_SUCCESS","FETCH_POST_FAILURE","fetchPosts","get","process","env","REACT_APP_API_URL"],"mappings":"AACA,OAASA,aAAT,KAA8B,qBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,gBAAvB,CACP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CACP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CAEP,MAAO,IAAMC,CAAAA,OAAO,CAAE,QAATA,CAAAA,OAAS,CAAAC,IAAI,QAAI,UAAAC,QAAQ,CAAI,CACxCC,OAAO,CAACC,GAAR,CAAYH,IAAZ,CAAiB,MAAjB,EACAC,QAAQ,CAAC,CAAEG,IAAI,CAAER,cAAR,CAAD,CAAR,CACA,MAAOF,CAAAA,aAAa,GACjBM,IADI,CACC,OADD,CACUA,IADV,EAEJK,IAFI,CAEC,SAAAC,GAAG,CAAI,CACXL,QAAQ,CAAC,CAAEG,IAAI,CAAEP,gBAAR,CAA0BU,OAAO,CAAED,GAAG,CAACE,IAAvC,CAAD,CAAR,CACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CALI,EAMJC,KANI,CAME,SAAAC,GAAG,CAAI,CACVZ,QAAQ,CAAC,CAAEG,IAAI,CAAEN,gBAAR,CAA0BS,OAAO,CAAEM,GAAG,CAACC,QAAvC,CAAD,CAAR,CACH,CARI,CAAP,CASD,CAZyB,EAAnB,CAeP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CACP,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,oBAA3B,CACP,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,oBAA3B,CAGP,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAM,UAAAjB,QAAQ,CAAI,CAC1CA,QAAQ,CAAC,CAAEG,IAAI,CAAEW,gBAAR,CAAD,CAAR,CACDpB,KAAK,CACDwB,GADJ,WACWC,OAAO,CAACC,GAAR,CAAYC,iBADvB,eAEIjB,IAFJ,CAES,SAAAC,GAAG,CAAI,CACXJ,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACE,IAAhB,CAAsB,MAAtB,EACAP,QAAQ,CAAC,CAAEG,IAAI,CAAEY,kBAAR,CAA4BT,OAAO,CAAED,GAAG,CAACE,IAAzC,CAAD,CAAR,CACD,CALJ,EAMII,KANJ,CAMU,SAAAC,GAAG,CAAI,CACVZ,QAAQ,CAAC,CAAEG,IAAI,CAAEa,kBAAR,CAA4BV,OAAO,CAAEM,GAAG,CAACC,QAAzC,CAAD,CAAR,CACH,CARJ,EASA,CAXyB,EAAnB","sourcesContent":["\nimport { axiosWithAuth } from '../../helpers/index';\nimport axios from 'axios';\n\nexport const ADD_POST_START = 'ADD_POST_START';\nexport const ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\nexport const ADD_POST_FAILURE = 'ADD_POST_FAILURE';\n\nexport const addPost= post => dispatch => {\n  console.log(post,\"post\")\n  dispatch({ type: ADD_POST_START });\n  return axiosWithAuth()\n    .post('/post', post)\n    .then(res => {\n      dispatch({ type: ADD_POST_SUCCESS, payload: res.data });\n      window.location.reload();\n    })\n    .catch(err => {\n        dispatch({ type: ADD_POST_FAILURE, payload: err.response });\n    });\n};\n\n\nexport const FETCH_POST_START = 'FETCH_POST_START';\nexport const FETCH_POST_SUCCESS = 'FETCH_POST_SUCCESS';\nexport const FETCH_POST_FAILURE = 'FETCH_POST_FAILURE';\n\n\nexport const fetchPosts = () => dispatch => {\n  dispatch({ type: FETCH_POST_START });\n axios\n    .get(`${process.env.REACT_APP_API_URL}/post/all`) \n    .then(res => {\n      console.log(res.data, \"data\")\n      dispatch({ type: FETCH_POST_SUCCESS, payload: res.data });\n    })\n    .catch(err => {\n        dispatch({ type: FETCH_POST_FAILURE, payload: err.response });\n    });\n};"]},"metadata":{},"sourceType":"module"}