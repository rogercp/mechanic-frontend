{"ast":null,"code":"var _jsxFileName = \"/Users/roger/Projects/mechanic-frontend/client/src/components/NavBar.js\";\nimport React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { NavLink, Link, withRouter } from 'react-router-dom';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport DirectionsCarIcon from '@material-ui/icons/DirectionsCar';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport Drawer from '@material-ui/core/Drawer';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble';\nimport HomeIcon from '@material-ui/icons/Home';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { connect } from 'react-redux';\nimport ProfileImageShow from './ProfileImageShow';\nimport { fetchProfileImage } from \"../store/actions/settingsActions\";\nimport ImageIcon from '@material-ui/icons/Image';\nimport { axiosWithAuth } from '../helpers/index';\nimport '../styles/navbar.scss';\nimport { flexbox } from '@material-ui/system';\nconst useStyles = makeStyles({\n  list: {\n    width: 200,\n    margin: '20px',\n    display: 'block'\n  },\n  fullList: {\n    width: 'auto'\n  }\n});\n\nfunction NavBar(props) {\n  const classes = useStyles();\n  const [state, setState] = React.useState({\n    right: false,\n    isCirclePic: true\n  });\n\n  function getUserNameOnLoad() {\n    const userId = localStorage.getItem('id');\n    axiosWithAuth().get(`/users/username/${userId}`).then(res => {\n      localStorage.setItem('username', res.data);\n    }).catch(err => {\n      console.log(\"error\");\n    });\n  }\n\n  const toggleDrawer = (side, open) => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n\n    setState({ ...state,\n      [side]: open\n    });\n  };\n\n  function logout() {\n    localStorage.clear();\n    window.location = '/';\n  }\n\n  const sideList = side => /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.list,\n    role: \"presentation\",\n    onClick: toggleDrawer(side, false),\n    onKeyDown: toggleDrawer(side, false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    className: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, props.userImage && props.userImage.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, props.userImage.map((image, index) => {\n    return /*#__PURE__*/React.createElement(ProfileImageShow, {\n      isCirclePic: state.isCirclePic,\n      image: image,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 24\n      }\n    });\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ImageIcon, {\n    style: {\n      fontSize: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }), username)), /*#__PURE__*/React.createElement(Link, {\n    className: \"link_mobile\",\n    activeClassName: \"activeNavButton\",\n    to: \"/home\",\n    style: {\n      textDecoration: \"none\"\n    },\n    \"data-testid\": \"signup-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mobile_div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(HomeIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 40\n    }\n  }), \"Dash\")), /*#__PURE__*/React.createElement(Link, {\n    className: \"link_mobile\",\n    activeClassName: \"activeNavButton\",\n    to: \"/mycars\",\n    style: {\n      textDecoration: \"none\"\n    },\n    \"data-testid\": \"signup-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DirectionsCarIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }), \" Cars\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"link_mobile\",\n    activeClassName: \"activeNavButton\",\n    to: \"/settings\",\n    style: {\n      textDecoration: \"none\"\n    },\n    \"data-testid\": \"login-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SettingsIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }), \" Settings\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"link_mobile\",\n    activeClassName: \"activeNavButton\",\n    to: \"/landing\",\n    style: {\n      textDecoration: \"none\"\n    },\n    \"data-testid\": \"signup-link\",\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ExitToAppIcon, {\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 28\n    }\n  }), \" Logout\")));\n\n  const userId = localStorage.getItem('id');\n  const username = localStorage.getItem(\"username\");\n  useEffect(() => {\n    getUserNameOnLoad();\n    props.fetchProfileImage(userId);\n  }, []);\n\n  if (!localStorage.getItem(\"token\")) {\n    return (// <div className=\"nav\" style={{ backgroundColor: \"rgb(210, 210, 211)\", maxWidth: \"1300px\" }}>\n      //   <NavLink id=\"link\" style={{width:'50px'}}to=\"/login\" activeClassName=\"active\" data-testid=\"signup-link\">\n      //     <i style={{ float: \"right\" }}>Login</i>\n      //   </NavLink >\n      // </div>\n      null\n    );\n  } else {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav\",\n      style: {\n        backgroundColor: \"\",\n        maxWidth: \"1300px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, props.userImage && props.userImage.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, props.userImage.map((image, index) => {\n      return /*#__PURE__*/React.createElement(ProfileImageShow, {\n        isCirclePic: state.isCirclePic,\n        image: image,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 26\n        }\n      });\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ImageIcon, {\n      style: {\n        fontSize: \"50px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }), username)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"links\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      id: \"link\",\n      to: \"/home\",\n      activeClassName: \"active\",\n      style: {\n        textDecoration: \"none\"\n      },\n      \"data-testid\": \"signup-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }, \"Dash\")), /*#__PURE__*/React.createElement(NavLink, {\n      id: \"link\",\n      to: \"/mycars\",\n      activeClassName: \"active\",\n      style: {\n        textDecoration: \"none\"\n      },\n      \"data-testid\": \"signup-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, \"My Cars\")), /*#__PURE__*/React.createElement(NavLink, {\n      id: \"link\",\n      to: \"/settings\",\n      activeClassName: \"active\",\n      style: {\n        textDecoration: \"none\"\n      },\n      \"data-testid\": \"login-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 15\n      }\n    }, \"Settings\")), /*#__PURE__*/React.createElement(NavLink, {\n      id: \"link\",\n      to: \"/landing\",\n      activeClassName: \"active\",\n      style: {\n        textDecoration: \"none\"\n      },\n      \"data-testid\": \"signup-link\",\n      onClick: logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }, \"Logout\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        position: \"fixed\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        float: \"right\",\n        marginTop: \"20px\",\n        zIndex: \"1000\",\n        position: \"relative\"\n      },\n      onClick: toggleDrawer('right', true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MenuIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 141\n      }\n    }))), /*#__PURE__*/React.createElement(Drawer, {\n      anchor: \"right\",\n      open: state.right,\n      onClose: toggleDrawer('right', false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }\n    }, sideList('right'))));\n  }\n}\n\n;\n\nconst mapStateToProps = state => ({\n  userImage: state.setting.userImage\n});\n\nexport default connect(mapStateToProps, {\n  fetchProfileImage\n})(NavBar);","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/client/src/components/NavBar.js"],"names":["React","useEffect","makeStyles","NavLink","Link","withRouter","ExitToAppIcon","DirectionsCarIcon","SettingsIcon","Drawer","Button","List","ChatBubbleIcon","HomeIcon","MenuIcon","connect","ProfileImageShow","fetchProfileImage","ImageIcon","axiosWithAuth","flexbox","useStyles","list","width","margin","display","fullList","NavBar","props","classes","state","setState","useState","right","isCirclePic","getUserNameOnLoad","userId","localStorage","getItem","get","then","res","setItem","data","catch","err","console","log","toggleDrawer","side","open","event","type","key","logout","clear","window","location","sideList","userImage","length","map","image","index","flexDirection","fontSize","username","textDecoration","backgroundColor","maxWidth","position","float","marginTop","zIndex","mapStateToProps","setting"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,OAAT,EAAkBC,IAAlB,EAAwBC,UAAxB,QAA0C,kBAA1C;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,SAASC,iBAAT,QAAkC,kCAAlC;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,aAAT,QAA8B,kBAA9B;AAGA,OAAO,uBAAP;AACA,SAASC,OAAT,QAAwB,qBAAxB;AAEA,MAAMC,SAAS,GAAGnB,UAAU,CAAC;AAC3BoB,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,GADH;AAEJC,IAAAA,MAAM,EAAE,MAFJ;AAGJC,IAAAA,OAAO,EAAE;AAHL,GADqB;AAM3BC,EAAAA,QAAQ,EAAE;AACRH,IAAAA,KAAK,EAAE;AADC;AANiB,CAAD,CAA5B;;AAcA,SAASI,MAAT,CAAgBC,KAAhB,EAAuB;AACrB,QAAMC,OAAO,GAAGR,SAAS,EAAzB;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoB/B,KAAK,CAACgC,QAAN,CAAe;AACvCC,IAAAA,KAAK,EAAE,KADgC;AAEvCC,IAAAA,WAAW,EAAE;AAF0B,GAAf,CAA1B;;AAQE,WAASC,iBAAT,GAA4B;AAC1B,UAAOC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAhB;AACAnB,IAAAA,aAAa,GACZoB,GADD,CACM,mBAAkBH,MAAO,EAD/B,EAECI,IAFD,CAEMC,GAAG,IAAG;AACVJ,MAAAA,YAAY,CAACK,OAAb,CAAqB,UAArB,EAAgCD,GAAG,CAACE,IAApC;AAED,KALD,EAMGC,KANH,CAMSC,GAAG,IAAI;AACJC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACR,KARJ;AAWD;;AAMH,QAAMC,YAAY,GAAG,CAACC,IAAD,EAAOC,IAAP,KAAgBC,KAAK,IAAI;AAC5C,QAAIA,KAAK,CAACC,IAAN,KAAe,SAAf,KAA6BD,KAAK,CAACE,GAAN,KAAc,KAAd,IAAuBF,KAAK,CAACE,GAAN,KAAc,OAAlE,CAAJ,EAAgF;AAC9E;AACD;;AAEDtB,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAY,OAACmB,IAAD,GAAQC;AAApB,KAAD,CAAR;AACD,GAND;;AASA,WAASI,MAAT,GAAkB;AAChBjB,IAAAA,YAAY,CAACkB,KAAb;AACAC,IAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACD;;AAED,QAAMC,QAAQ,GAAGT,IAAI,iBACnB;AACE,IAAA,SAAS,EAAEpB,OAAO,CAACP,IADrB;AAEE,IAAA,IAAI,EAAC,cAFP;AAGE,IAAA,OAAO,EAAE0B,YAAY,CAACC,IAAD,EAAO,KAAP,CAHvB;AAIE,IAAA,SAAS,EAAED,YAAY,CAACC,IAAD,EAAO,KAAP,CAJzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrB,KAAK,CAAC+B,SAAN,IAAmB/B,KAAK,CAAC+B,SAAN,CAAgBC,MAAhB,GAAyB,CAA5C,gBACC;AAAK,IAAA,KAAK,EAAE;AAAErC,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGK,KAAK,CAAC+B,SAAN,CAAgBE,GAAhB,CAAoB,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACrC,wBAAO,oBAAC,gBAAD;AAAkB,MAAA,WAAW,EAAEjC,KAAK,CAACI,WAArC;AAAkD,MAAA,KAAK,EAAE4B,KAAzD;AAAgE,MAAA,GAAG,EAAEC,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFA,CADH,CADD,gBAQC;AAAK,IAAA,KAAK,EAAE;AAAEtC,MAAAA,OAAO,EAAE,MAAX;AAAmBuC,MAAAA,aAAa,EAAE;AAAlC,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGC,QAFH,CATJ,CADF,eAgBE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,aAAhB;AAA8B,IAAA,eAAe,EAAC,iBAA9C;AAAgE,IAAA,EAAE,EAAC,OAAnE;AAA2E,IAAA,KAAK,EAAE;AAAEC,MAAAA,cAAc,EAAE;AAAlB,KAAlF;AAA8G,mBAAY,aAA1H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA6B,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA7B,SADF,CAhBF,eAqBE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,aAAhB;AAA8B,IAAA,eAAe,EAAC,iBAA9C;AAAgE,IAAA,EAAE,EAAC,SAAnE;AAA6E,IAAA,KAAK,EAAE;AAAEA,MAAAA,cAAc,EAAE;AAAlB,KAApF;AAAgH,mBAAY,aAA5H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,UArBF,eAuBE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,aAAhB;AAA8B,IAAA,eAAe,EAAC,iBAA9C;AAAgE,IAAA,EAAE,EAAC,WAAnE;AAA+E,IAAA,KAAK,EAAE;AAAEA,MAAAA,cAAc,EAAE;AAAlB,KAAtF;AAAkH,mBAAY,YAA9H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,cAvBF,eAyBE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,aAAhB;AAA8B,IAAA,eAAe,EAAC,iBAA9C;AAAgE,IAAA,EAAE,EAAC,UAAnE;AAA8E,IAAA,KAAK,EAAE;AAAEA,MAAAA,cAAc,EAAE;AAAlB,KAArF;AAAiH,mBAAY,aAA7H;AACE,IAAA,OAAO,EAAEb,MADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACmB,oBAAC,aAAD;AAAe,IAAA,SAAS,EAAC,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADnB,YAzBF,CANF,CADF;;AAwCA,QAAMlB,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAf;AACA,QAAM4B,QAAQ,GAAG7B,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB;AAEArC,EAAAA,SAAS,CAAC,MAAM;AACdkC,IAAAA,iBAAiB;AACjBP,IAAAA,KAAK,CAACX,iBAAN,CAAwBmB,MAAxB;AAED,GAJQ,EAIN,EAJM,CAAT;;AAOA,MAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAL,EAAoC;AAClC,WACE;AACA;AACA;AACA;AACA;AACA;AANF;AAQD,GATD,MASO;AACL,wBACE,uDAGE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAqB,MAAA,KAAK,EAAE;AAAE8B,QAAAA,eAAe,EAAE,EAAnB;AAAuBC,QAAAA,QAAQ,EAAE;AAAjC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGzC,KAAK,CAAC+B,SAAN,IAAmB/B,KAAK,CAAC+B,SAAN,CAAgBC,MAAhB,GAAyB,CAA5C,gBACC;AAAK,MAAA,KAAK,EAAE;AAAErC,QAAAA,KAAK,EAAE;AAAT,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGK,KAAK,CAAC+B,SAAN,CAAgBE,GAAhB,CAAoB,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACrC,0BAAO,oBAAC,gBAAD;AAAkB,QAAA,WAAW,EAAEjC,KAAK,CAACI,WAArC;AAAkD,QAAA,KAAK,EAAE4B,KAAzD;AAAgE,QAAA,GAAG,EAAEC,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAFA,CADH,CADD,gBAQC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAEE,QAAAA,QAAQ,EAAE;AAAZ,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEGC,QAFH,CATJ,CAFF,eAkBE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,OAAtB;AAA8B,MAAA,eAAe,EAAC,QAA9C;AAAuD,MAAA,KAAK,EAAE;AAAEC,QAAAA,cAAc,EAAE;AAAlB,OAA9D;AAA0F,qBAAY,aAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAFF,eAUE,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,SAAtB;AAAgC,MAAA,eAAe,EAAC,QAAhD;AAAyD,MAAA,KAAK,EAAE;AAAEA,QAAAA,cAAc,EAAE;AAAlB,OAAhE;AAA4F,qBAAY,aAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CAVF,eAcE,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,WAAtB;AAAkC,MAAA,eAAe,EAAC,QAAlD;AAA2D,MAAA,KAAK,EAAE;AAAEA,QAAAA,cAAc,EAAE;AAAlB,OAAlE;AAA8F,qBAAY,YAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAdF,eAkBE,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,UAAtB;AAAiC,MAAA,eAAe,EAAC,QAAjD;AAA0D,MAAA,KAAK,EAAE;AAAEA,QAAAA,cAAc,EAAE;AAAlB,OAAjE;AAA6F,qBAAY,aAAzG;AACE,MAAA,OAAO,EAAEb,MADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CAlBF,CAlBF,CAHF,eAiDE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE;AAAK,MAAA,KAAK,EAAE;AAAE/B,QAAAA,KAAK,EAAE,MAAT;AAAiB+C,QAAAA,QAAQ,EAAE;AAA3B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,OAAT;AAAkBC,QAAAA,SAAS,EAAE,MAA7B;AAAoCC,QAAAA,MAAM,EAAE,MAA5C;AAAmDH,QAAAA,QAAQ,EAAE;AAA7D,OAAf;AAA0F,MAAA,OAAO,EAAEtB,YAAY,CAAC,OAAD,EAAU,IAAV,CAA/G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAgI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAhI,CAFF,CAFF,eAME,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAC,OAAf;AAAuB,MAAA,IAAI,EAAElB,KAAK,CAACG,KAAnC;AAA0C,MAAA,OAAO,EAAEe,YAAY,CAAC,OAAD,EAAU,KAAV,CAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGU,QAAQ,CAAC,OAAD,CADX,CANF,CAjDF,CADF;AAwED;AACF;;AAAA;;AAGD,MAAMgB,eAAe,GAAG5C,KAAK,KAAK;AAChC6B,EAAAA,SAAS,EAAE7B,KAAK,CAAC6C,OAAN,CAAchB;AADO,CAAL,CAA7B;;AAGA,eAAe5C,OAAO,CACpB2D,eADoB,EAEpB;AAAEzD,EAAAA;AAAF,CAFoB,CAAP,CAGbU,MAHa,CAAf","sourcesContent":["\nimport React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { NavLink, Link, withRouter } from 'react-router-dom';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport DirectionsCarIcon from '@material-ui/icons/DirectionsCar';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport Drawer from '@material-ui/core/Drawer';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble';\nimport HomeIcon from '@material-ui/icons/Home';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { connect } from 'react-redux';\nimport ProfileImageShow from './ProfileImageShow';\nimport { fetchProfileImage } from \"../store/actions/settingsActions\";\nimport ImageIcon from '@material-ui/icons/Image';\nimport { axiosWithAuth } from '../helpers/index';\n\n\nimport '../styles/navbar.scss'\nimport { flexbox } from '@material-ui/system';\n\nconst useStyles = makeStyles({\n  list: {\n    width: 200,\n    margin: '20px',\n    display: 'block',\n  },\n  fullList: {\n    width: 'auto',\n\n  },\n});\n\n\n\nfunction NavBar(props) {\n  const classes = useStyles();\n  const [state, setState] = React.useState({\n    right: false,\n    isCirclePic: true\n  });\n\n\n \n\n    function getUserNameOnLoad(){\n      const  userId = localStorage.getItem('id')\n      axiosWithAuth()\n      .get(`/users/username/${userId}`)\n      .then(res =>{\n        localStorage.setItem('username',res.data)    \n        \n      })\n        .catch(err => {\n                  console.log(\"error\")\n         });\n    \n\n    }\n\n\n\n\n\n  const toggleDrawer = (side, open) => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n\n    setState({ ...state, [side]: open });\n  };\n\n\n  function logout() {\n    localStorage.clear()\n    window.location = '/'\n  }\n\n  const sideList = side => (\n    <div\n      className={classes.list}\n      role=\"presentation\"\n      onClick={toggleDrawer(side, false)}\n      onKeyDown={toggleDrawer(side, false)}\n    >\n      <List className=\"list\" >\n        <div>\n          {props.userImage && props.userImage.length > 0 ?\n            <div style={{ width: \"10px\" }}>\n              {props.userImage.map((image, index) => {\n                return <ProfileImageShow isCirclePic={state.isCirclePic} image={image} key={index} />\n              })}\n            </div>\n\n            :\n            <div style={{ display: 'flex', flexDirection: \"column\" }}>\n              <ImageIcon style={{ fontSize: \"50px\" }} />\n              {username}\n            </div>\n          }\n        </div>\n        <Link className=\"link_mobile\" activeClassName=\"activeNavButton\" to=\"/home\" style={{ textDecoration: \"none\" }} data-testid=\"signup-link\">\n          <div className=\"mobile_div\" ><HomeIcon />Dash</div></Link>\n\n        {/* <Link className=\"link_mobile\" activeClassName=\"activeNavButton\" to=\"/chat\" style={{ textDecoration: \"none\" }} data-testid=\"signup-link\">\n          <ChatBubbleIcon /> Chat</Link > */}\n        <Link className=\"link_mobile\" activeClassName=\"activeNavButton\" to=\"/mycars\" style={{ textDecoration: \"none\" }} data-testid=\"signup-link\">\n          <DirectionsCarIcon /> Cars</Link>\n        <Link className=\"link_mobile\" activeClassName=\"activeNavButton\" to=\"/settings\" style={{ textDecoration: \"none\" }} data-testid=\"login-link\">\n          <SettingsIcon /> Settings</Link>\n        <Link className=\"link_mobile\" activeClassName=\"activeNavButton\" to=\"/landing\" style={{ textDecoration: \"none\" }} data-testid=\"signup-link\"\n          onClick={logout}><ExitToAppIcon className=\"icon\" /> Logout</Link>\n\n      </List>\n\n    </div>\n  );\n\n  const userId = localStorage.getItem('id');\n  const username = localStorage.getItem(\"username\");\n\n  useEffect(() => {\n    getUserNameOnLoad()\n    props.fetchProfileImage(userId)\n\n  }, []);\n\n\n  if (!localStorage.getItem(\"token\")) {\n    return (\n      // <div className=\"nav\" style={{ backgroundColor: \"rgb(210, 210, 211)\", maxWidth: \"1300px\" }}>\n      //   <NavLink id=\"link\" style={{width:'50px'}}to=\"/login\" activeClassName=\"active\" data-testid=\"signup-link\">\n      //     <i style={{ float: \"right\" }}>Login</i>\n      //   </NavLink >\n      // </div>\n      null\n    )\n  } else {\n    return (\n      <>\n\n\n        <div className=\"nav\" style={{ backgroundColor: \"\", maxWidth: \"1300px\" }}>\n\n          <div>\n            {props.userImage && props.userImage.length > 0 ?\n              <div style={{ width: \"10px\" }}>\n                {props.userImage.map((image, index) => {\n                  return <ProfileImageShow isCirclePic={state.isCirclePic} image={image} key={index} />\n                })}\n              </div>\n\n              :\n              <div>\n                <ImageIcon style={{ fontSize: \"50px\" }} />\n                {username}\n              </div>\n            }\n          </div>\n\n          <div className=\"links\" >\n\n            <NavLink id=\"link\" to=\"/home\" activeClassName=\"active\" style={{ textDecoration: \"none\" }} data-testid=\"signup-link\">\n              <i>Dash</i>\n            </NavLink>\n\n            {/* <NavLink id=\"link\" to=\"/chat\" activeClassName=\"active\" style={{ textDecoration: \"none\" }} data-testid=\"signup-link\">\n              <i>Chat</i>\n            </NavLink > */}\n\n            <NavLink id=\"link\" to=\"/mycars\" activeClassName=\"active\" style={{ textDecoration: \"none\" }} data-testid=\"signup-link\">\n              <i>My Cars</i>\n            </NavLink>\n\n            <NavLink id=\"link\" to=\"/settings\" activeClassName=\"active\" style={{ textDecoration: \"none\" }} data-testid=\"login-link\">\n              <i>Settings</i>\n            </NavLink>\n\n            <NavLink id=\"link\" to=\"/landing\" activeClassName=\"active\" style={{ textDecoration: \"none\" }} data-testid=\"signup-link\"\n              onClick={logout}>\n              <i>Logout</i>\n            </NavLink>\n\n          </div>\n\n        </div>\n\n\n        <div className=\"mobile\" >\n\n          <div style={{ width: \"100%\", position: \"fixed\" }}>\n            {/* display:inline-block  --- this will work for a non-sticky navbar */}\n            <Button style={{ float: \"right\", marginTop: \"20px\",zIndex: \"1000\",position: \"relative\" }} onClick={toggleDrawer('right', true)}><MenuIcon /></Button>\n          </div>\n          <Drawer anchor=\"right\" open={state.right} onClose={toggleDrawer('right', false)}>\n            {sideList('right')}\n\n          </Drawer>\n        </div>\n\n\n\n\n\n\n\n\n\n      </>\n    )\n  }\n};\n\n\nconst mapStateToProps = state => ({\n  userImage: state.setting.userImage\n});\nexport default connect(\n  mapStateToProps,\n  { fetchProfileImage }\n)(NavBar);\n"]},"metadata":{},"sourceType":"module"}