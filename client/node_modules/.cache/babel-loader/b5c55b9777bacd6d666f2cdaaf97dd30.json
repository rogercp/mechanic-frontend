{"ast":null,"code":"var _jsxFileName = \"/Users/roger/Projects/mechanic-frontend/client/src/components/IndividualPost.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Image, roundedCircle } from 'react-bootstrap';\nimport '../styles/postsIndividual.scss';\nimport { HTML5_FMT } from 'moment';\nimport ProfileImageShow from './ProfileImageShow';\nimport Comment from './Comment';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Route, withRouter } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport Fab from '@material-ui/core/Fab';\nimport EditIcon from '@material-ui/icons/Add';\nimport PostAddModal from './PostAddModal';\nimport { browserHistory } from 'react-router';\nimport { Form } from 'react-bootstrap';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport SendIcon from '@material-ui/icons/Send';\nimport Button from '@material-ui/core/Button';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { axiosWithAuth } from '../helpers/index';\nimport PostImageUpload from './PostImageUpload';\nimport { confirmAlert } from 'react-confirm-alert';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport '../styles/searchOrSubmitButtons.scss';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 500,\n    position: 'relative',\n    minHeight: 200\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2)\n  },\n  margin: {\n    margin: theme.spacing(1),\n    backgroundColor: \"white\",\n    borderRadius: \"10%\",\n    boxShadow: \"0 8px 10px rgba(0,0,0,0.2), 0 7px 7px rgba(0,0,0,0.2)\",\n    '&:hover': {\n      boxShadow: \"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"\n    }\n  },\n  buttons: {\n    margin: '5px 10px'\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  paper: {\n    height: '100%',\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    outline: 'none',\n    margin: '1%',\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    boxShadow: \"0 16px 19px rgba(0,0,0,0.2), 0 15px 15px rgba(0,0,0,0.2)\",\n    '&:hover': {\n      boxShadow: \"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"\n    },\n    [theme.breakpoints.down('md')]: {\n      width: '100%',\n      height: '100%'\n    },\n    [theme.breakpoints.down('sm')]: {\n      padding: theme.spacing(0, 0, 0),\n      width: '100%',\n      height: '100%'\n    }\n  }\n}));\n\nconst IndividualPost = props => {\n  const classes = useStyles();\n  const [state, setState] = React.useState({\n    isCirclePic: true,\n    isPost: true\n  });\n  const [commentsAreOpen, setCommentsAreOpen] = useState(false);\n  const [commentState, setCommentState] = useState({\n    user_id: localStorage.getItem(\"id\"),\n    comment_text: ''\n  });\n  const [commentFetch, setCommentFetch] = useState([]); // const [likesFetch,setLikeFetch] = useState({\n  //       likes:props.post.like\n  // }\n  // )\n\n  const [likesFetch, setLikeFetch] = useState(null);\n  useEffect(() => {\n    fetchComments(); // fetchPostbyId(props.post.id)\n    // setLikeFetch(prevState =>({\n    //   ...prevState.likes,\n    //   likes:props.post.like,\n    // }))\n  }, []);\n\n  const fetchSpecificPost = () => {\n    axiosWithAuth().get(`/post/fetchPostLikes/${props.post.id}`).then(res => {\n      console.log(res.data, \"dadsadadasd\"); // setLikeFetch(prevState =>({\n      //   ...prevState.likes,\n      //   likes:res.data[0].like,\n      // }))\n\n      setLikeFetch(res.data[0].like);\n    }).catch(err => {});\n  };\n\n  const fetchComments = () => {\n    axiosWithAuth().get(`/comment/${props.post.id}`).then(res => {\n      setCommentFetch(res.data);\n    }).catch(err => {});\n  };\n\n  const handleChange = name => event => {\n    setCommentState({ ...commentState,\n      [name]: event.target.value\n    });\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n\n    if (localStorage.getItem(\"token\") === null && localStorage.getItem(\"username\") === null) {\n      props.history.push('/login');\n    }\n\n    if (localStorage.getItem(\"username\") === null && localStorage.getItem(\"token\")) {\n      confirmAlert({\n        customUI: ({\n          onClose\n        }) => {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"custom-ui\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"h3\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }\n          }, \"You need a username to Post. Click the edit icon to create one.\"), /*#__PURE__*/React.createElement(Button, {\n            className: classes.margin,\n            variant: \"secondary\",\n            onClick: onClose,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }\n          }, \"Close\"));\n        }\n      });\n      props.history.push('/settings');\n    } else {\n      axiosWithAuth().post(`/comment/${props.post.id}`, commentState).then(res => {\n        fetchComments();\n      }).catch(err => {});\n    }\n  };\n\n  function incrementLike() {\n    if (localStorage.getItem(\"token\") === null && localStorage.getItem(\"username\") === null) {\n      props.history.push('/login');\n    }\n\n    if (localStorage.getItem(\"username\") === null && localStorage.getItem(\"token\")) {\n      confirmAlert({\n        customUI: ({\n          onClose\n        }) => {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"custom-ui\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"h3\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }\n          }, \"You need a username to Post. Click the edit icon to create one.\"), /*#__PURE__*/React.createElement(Button, {\n            className: classes.margin,\n            variant: \"secondary\",\n            onClick: onClose,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }\n          }, \"Close\"));\n        }\n      });\n      props.history.push('/settings');\n    } else {\n      axiosWithAuth().patch(`/post/inc/${props.post.id}`).then(res => {\n        fetchSpecificPost(props.post.id);\n      }).catch(err => {});\n    }\n  }\n\n  ;\n\n  function decreaseLike() {\n    if (localStorage.getItem(\"token\") === null && localStorage.getItem(\"username\") === null) {\n      props.history.push('/login');\n    }\n\n    if (localStorage.getItem(\"username\") === null && localStorage.getItem(\"token\")) {\n      confirmAlert({\n        customUI: ({\n          onClose\n        }) => {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"custom-ui\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"h3\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }\n          }, \"You need a username to Post. Click the edit icon to create one.\"), /*#__PURE__*/React.createElement(Button, {\n            className: classes.margin,\n            variant: \"secondary\",\n            onClick: onClose,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }\n          }, \"Close\"));\n        }\n      });\n      props.history.push('/settings');\n    } else {\n      axiosWithAuth().patch(`/post/dec/${props.post.id}`).then(res => {\n        fetchSpecificPost(props.post.id);\n      }).catch(err => {});\n    }\n  }\n\n  ;\n\n  const toggleComments = e => {\n    e.preventDefault();\n\n    if (commentsAreOpen === true) {\n      setCommentsAreOpen(false);\n    } else {\n      setCommentsAreOpen(true);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n    className: classes.paper,\n    style: {\n      width: \"98%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }\n  }, props.post ? /*#__PURE__*/React.createElement(ProfileImageShow, {\n    style: {\n      alignSelf: \"flex-start\",\n      width: \"40px\",\n      height: \"40px\",\n      paddingRight: \"2px\"\n    },\n    isPost: state.isPost,\n    isPostPic: true,\n    isCirclePic: state.isCirclePic,\n    post: props.post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 13\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      alignSelf: \"flex-end\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 11\n    }\n  }, props.post.post_date)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }\n  }, props.post.post_text))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: \"0\",\n      display: \"flex\",\n      flexDirection: \"row\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CommentIcon, {\n    className: classes.margin,\n    onClick: toggleComments,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 13\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      marginTop: \"8px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 81\n    }\n  }, commentFetch.length)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginRight: \"0\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      marginTop: \"8px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 13\n    }\n  }, props.post.likelikesFetch), /*#__PURE__*/React.createElement(ThumbUpIcon, {\n    onClick: incrementLike,\n    style: {\n      borderRadius: \"50%\"\n    },\n    className: classes.margin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ThumbDownIcon, {\n    onClick: decreaseLike,\n    style: {\n      borderRadius: \"50%\"\n    },\n    className: classes.margin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      border: \"2px !important\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 9\n    }\n  }, commentsAreOpen ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    onSubmit: onSubmitHandler,\n    size: \"md\",\n    type: \"text\",\n    placeholder: \"Comment\",\n    id: \"standard-basic\",\n    name: \"comment_text\",\n    value: commentState.comment_text,\n    onChange: handleChange('comment_text'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    id: \"seSub\",\n    endIcon: /*#__PURE__*/React.createElement(SendIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 28\n      }\n    }),\n    onClick: onSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 17\n    }\n  }, \"Enter\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 15\n    }\n  }, commentFetch.map(comment => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Comment, {\n      comment: comment,\n      fetchComments: fetchComments,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 23\n      }\n    }));\n  }))) : null))));\n};\n\nexport default withRouter(IndividualPost);","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/client/src/components/IndividualPost.js"],"names":["React","useState","useEffect","Image","roundedCircle","HTML5_FMT","ProfileImageShow","Comment","makeStyles","Route","withRouter","TextField","Fab","EditIcon","PostAddModal","browserHistory","Form","ThumbUpIcon","ThumbDownIcon","CommentIcon","SendIcon","Button","ExpandMoreIcon","axiosWithAuth","PostImageUpload","confirmAlert","Card","CardContent","useStyles","theme","root","backgroundColor","palette","background","paper","width","position","minHeight","fab","bottom","spacing","right","margin","borderRadius","boxShadow","buttons","button","height","shadows","outline","flexDirection","justifyContent","alignItems","breakpoints","down","padding","IndividualPost","props","classes","state","setState","isCirclePic","isPost","commentsAreOpen","setCommentsAreOpen","commentState","setCommentState","user_id","localStorage","getItem","comment_text","commentFetch","setCommentFetch","likesFetch","setLikeFetch","fetchComments","fetchSpecificPost","get","post","id","then","res","console","log","data","like","catch","err","handleChange","name","event","target","value","onSubmitHandler","e","preventDefault","history","push","customUI","onClose","incrementLike","patch","decreaseLike","toggleComments","display","alignSelf","paddingRight","post_date","post_text","marginTop","length","marginRight","likelikesFetch","border","map","comment"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Image, roundedCircle } from 'react-bootstrap';\nimport '../styles/postsIndividual.scss'\nimport { HTML5_FMT } from 'moment';\nimport ProfileImageShow from './ProfileImageShow';\nimport Comment from './Comment';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Route, withRouter } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport Fab from '@material-ui/core/Fab';\nimport EditIcon from '@material-ui/icons/Add';\nimport PostAddModal from './PostAddModal';\nimport { browserHistory } from 'react-router';\nimport { Form } from 'react-bootstrap';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport SendIcon from '@material-ui/icons/Send';\nimport Button from '@material-ui/core/Button';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { axiosWithAuth } from '../helpers/index';\nimport PostImageUpload from './PostImageUpload'\nimport { confirmAlert } from 'react-confirm-alert';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\n\n\nimport '../styles/searchOrSubmitButtons.scss'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 500,\n    position: 'relative',\n    minHeight: 200,\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n  margin: {\n    margin: theme.spacing(1),\n    backgroundColor: \"white\",\n    borderRadius: \"10%\",\n    boxShadow: \"0 8px 10px rgba(0,0,0,0.2), 0 7px 7px rgba(0,0,0,0.2)\",\n    '&:hover': {\n      boxShadow: \"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"\n    },\n  },\n  buttons: {\n    margin: '5px 10px'\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n  paper: {\n    height: '100%',\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    outline: 'none',\n    margin: '1%',\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    boxShadow: \"0 16px 19px rgba(0,0,0,0.2), 0 15px 15px rgba(0,0,0,0.2)\",\n    '&:hover': {\n      boxShadow: \"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"\n    },\n    [theme.breakpoints.down('md')]: {\n      width: '100%',\n      height: '100%',\n    },\n    [theme.breakpoints.down('sm')]: {\n      padding: theme.spacing(0, 0, 0),\n      width: '100%',\n      height: '100%',\n    },\n  },\n\n}));\n\nconst IndividualPost = (props) => {\n  const classes = useStyles();\n  const [state, setState] = React.useState({\n    isCirclePic: true,\n    isPost: true,\n  });\n  const [commentsAreOpen, setCommentsAreOpen] = useState(false)\n  const [commentState, setCommentState] = useState({\n    user_id: localStorage.getItem(\"id\"),\n    comment_text: ''\n  });\n  const [commentFetch, setCommentFetch] = useState([])\n  // const [likesFetch,setLikeFetch] = useState({\n  //       likes:props.post.like\n  // }\n  \n  // )\n\n  const [likesFetch,setLikeFetch] = useState(null)\n\n  useEffect(() => {\n    fetchComments()\n    // fetchPostbyId(props.post.id)\n    // setLikeFetch(prevState =>({\n    //   ...prevState.likes,\n    //   likes:props.post.like,\n    // }))\n  }, [])\n\n\n  const fetchSpecificPost = () =>{\n\n    axiosWithAuth()\n    .get(`/post/fetchPostLikes/${props.post.id}`)\n    .then(res => {\n      console.log(res.data,\"dadsadadasd\")\n\n      // setLikeFetch(prevState =>({\n      //   ...prevState.likes,\n      //   likes:res.data[0].like,\n      // }))\n      setLikeFetch(res.data[0].like)\n\n    })\n    .catch(err => {\n    });\n  }\n\n  const fetchComments = () => {\n    axiosWithAuth()\n      .get(`/comment/${props.post.id}`)\n      .then(res => {\n        setCommentFetch(res.data)\n      })\n      .catch(err => {\n      });\n  };\n\n\n\n  const handleChange = name => event => {\n    setCommentState({\n      ...commentState,\n      [name]: event.target.value,\n    });\n  };\n\n\n\n\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    if (localStorage.getItem(\"token\") === null && localStorage.getItem(\"username\") === null) {\n      props.history.push('/login')\n    }\n    if (localStorage.getItem(\"username\") === null && localStorage.getItem(\"token\")) {\n\n\n      confirmAlert({\n        customUI: ({ onClose }) => {\n          return (\n            <div className='custom-ui' >\n\n              <h3>You need a username to Post. Click the edit icon to create one.</h3>\n              <Button className={classes.margin} variant=\"secondary\" onClick={onClose}>Close</Button>\n\n            </div>\n          );\n        }\n      });\n      props.history.push('/settings')\n    } else {\n\n      axiosWithAuth()\n        .post(`/comment/${props.post.id}`, commentState)\n        .then(res => {\n          fetchComments()\n        })\n        .catch(err => {\n        });\n    }\n\n\n\n  };\n\n\n\n  function incrementLike() {\n\n    if (localStorage.getItem(\"token\") === null && localStorage.getItem(\"username\") === null) {\n      props.history.push('/login')\n    }\n    if (localStorage.getItem(\"username\") === null && localStorage.getItem(\"token\")) {\n\n\n      confirmAlert({\n        customUI: ({ onClose }) => {\n          return (\n            <div className='custom-ui' >\n\n              <h3>You need a username to Post. Click the edit icon to create one.</h3>\n              <Button className={classes.margin} variant=\"secondary\" onClick={onClose}>Close</Button>\n\n            </div>\n          );\n        }\n      });\n      props.history.push('/settings')\n    } else {\n\n      axiosWithAuth()\n        .patch(`/post/inc/${props.post.id}`)\n        .then(res => {\n          fetchSpecificPost(props.post.id)\n        })\n        .catch(err => {\n        });\n    }\n\n  };\n\n\n  function decreaseLike() {\n    if (localStorage.getItem(\"token\") === null && localStorage.getItem(\"username\") === null) {\n      props.history.push('/login')\n    }\n    if (localStorage.getItem(\"username\") === null && localStorage.getItem(\"token\")) {\n\n\n      confirmAlert({\n        customUI: ({ onClose }) => {\n          return (\n            <div className='custom-ui' >\n\n              <h3>You need a username to Post. Click the edit icon to create one.</h3>\n              <Button className={classes.margin} variant=\"secondary\" onClick={onClose}>Close</Button>\n\n            </div>\n          );\n        }\n      });\n      props.history.push('/settings')\n    } else {\n      axiosWithAuth()\n        .patch(`/post/dec/${props.post.id}`)\n        .then(res => {\n          fetchSpecificPost(props.post.id)\n\n        })\n        .catch(err => {\n        });\n    }\n\n  };\n\n\n\n\n\n  const toggleComments = (e) => {\n\n    e.preventDefault();\n\n    if (commentsAreOpen === true) {\n      setCommentsAreOpen(false)\n    } else {\n      setCommentsAreOpen(true)\n    }\n\n  }\n  return (\n    <>\n      {/* <div className=\"singlePost\" style={{ width: \"98%\", marginBottom: \"5px\" }}>\n\n        <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}> */}\n\n<Card className={classes.paper} style={{ width: \"98%\"}}>\n\n<CardContent  > \n\n            <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}>\n\n          {props.post ?\n\n            <ProfileImageShow style={{ alignSelf: \"flex-start\", width: \"40px\", height: \"40px\", paddingRight: \"2px\" }} isPost={state.isPost} isPostPic={true} isCirclePic={state.isCirclePic} post={props.post} />\n\n            :\n            null\n\n          }\n\n\n          <p style={{ alignSelf: \"flex-end\" }}>{props.post.post_date}</p>\n\n\n\n\n        </div>\n\n\n\n\n        <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\n\n          {/* <div>\n            <PostImageUpload post={props.post} />\n          </div>\n          <div>\n\n            <PostImageUpload post={props.post} isCarouselForPost={true} />\n          </div> */}\n          <div>\n            <p>{props.post.post_text}</p>\n          </div>\n        </div>\n\n\n\n\n        <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", alignItems: \"center\" }}>\n\n          <div style={{ margin: \"0\", display: \"flex\", flexDirection: \"row\" }}>\n            <CommentIcon className={classes.margin} onClick={toggleComments} /> <p style={{ marginTop: \"8px\" }}>{commentFetch.length}</p>\n          </div>\n\n          <div style={{ marginRight: \"0\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"space-between\" }}>\n            <p style={{ marginTop: \"8px\" }}>{props.post.likelikesFetch}</p>\n            <ThumbUpIcon onClick={incrementLike} style={{ borderRadius: \"50%\" }} className={classes.margin} />\n            <ThumbDownIcon onClick={decreaseLike} style={{ borderRadius: \"50%\" }} className={classes.margin} />\n          </div>\n\n        </div>\n\n        <div style={{ border: \"2px !important\" }}>\n\n          {commentsAreOpen ?\n            <div style={{ width: \"100%\" }}>\n              <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", alignItems: \"center\" }}>\n                <Form.Control\n                  onSubmit={onSubmitHandler}\n                  size=\"md\"\n                  type=\"text\"\n                  placeholder=\"Comment\"\n                  id=\"standard-basic\"\n                  name=\"comment_text\"\n                  value={commentState.comment_text}\n                  onChange={handleChange('comment_text')}\n                />\n                <Button\n                  \n                  variant=\"contained\"\n                  color=\"primary\"\n                  id=\"seSub\"\n                  endIcon={<SendIcon />}\n                  onClick={onSubmitHandler}\n                >\n                  Enter\n            </Button>\n              </div>\n              <div style={{ display: \"block\" }}>\n\n                {\n                  commentFetch.map((comment) => {\n                    return (<>\n                      <Comment comment={comment} fetchComments={fetchComments} />\n                    </>\n                    )\n                  })}\n\n\n\n\n              </div>\n              {/* <ExpandMoreIcon style={{ fontSize: \"50px\" }} /> */}\n            </div>\n            : null}\n        </div>\n        </CardContent>\n\n      </Card>\n\n    </>\n  );\n};\n\n\n\n\nexport default withRouter(IndividualPost);"]},"metadata":{},"sourceType":"module"}