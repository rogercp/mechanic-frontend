{"ast":null,"code":"import { axiosWithAuth } from '../../helpers/index';\nimport axios from 'axios';\nexport const ADD_POST_START = 'ADD_POST_START';\nexport const ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\nexport const ADD_POST_FAILURE = 'ADD_POST_FAILURE';\nexport const addPost = post => dispatch => {\n  dispatch({\n    type: ADD_POST_START\n  });\n  return axiosWithAuth().post('/post', post).then(res => {\n    // console.log(res.data,\"this is from the post action id\")\n    // const currentPostId=res.data.id\n    dispatch({\n      type: ADD_POST_SUCCESS,\n      payload: res.data\n    }); // return currentPostId\n  }).catch(err => {\n    dispatch({\n      type: ADD_POST_FAILURE,\n      payload: err.response\n    });\n  });\n};\nexport const FETCH_POST_START = 'FETCH_POST_START';\nexport const FETCH_POST_SUCCESS = 'FETCH_POST_SUCCESS';\nexport const FETCH_POST_FAILURE = 'FETCH_POST_FAILURE';\nexport const fetchPosts = () => dispatch => {\n  dispatch({\n    type: FETCH_POST_START\n  });\n  axios.get(`${process.env.REACT_APP_API_URL}/post/all`).then(res => {\n    console.log(res.data, \"post\");\n    dispatch({\n      type: FETCH_POST_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: FETCH_POST_FAILURE,\n      payload: err.response\n    });\n  });\n};\nexport const FETCH_FILTEREDPOST_START = 'FETCH_FILTEREDPOST_START';\nexport const FETCH_FILTEREDPOST_SUCCESS = 'FETCH_FILTEREDPOST_SUCCESS';\nexport const FETCH_FILTEREDPOST_FAILURE = 'FETCH_FILTEREDPOST_FAILURE';\nexport const CHANGE_ORDER_POSTS = 'CHANGE_ORDER_POSTS';\nexport const CURRENT_PAGE = 'CHANGE_ORDER_POSTS';\nexport const fetchFilteredPosts = (term, orderTerm, currentPage) => dispatch => {\n  console.log(orderTerm, \"term in actions\");\n  dispatch({\n    type: FETCH_FILTEREDPOST_START\n  });\n  return axios.post(`${process.env.REACT_APP_API_URL}/post/filterCategory`, {\n    category: term,\n    order: orderTerm,\n    currentPage: currentPage\n  }).then(res => {\n    dispatch({\n      type: FETCH_FILTEREDPOST_SUCCESS,\n      payload: res.data.data\n    });\n    dispatch({\n      type: CHANGE_ORDER_POSTS,\n      payload: orderTerm\n    });\n    dispatch({\n      type: UPDATE_PAGE_NUMBER,\n      payload: currentPage\n    });\n  }).catch(err => {\n    dispatch({\n      type: FETCH_FILTEREDPOST_FAILURE,\n      payload: err.response\n    });\n  });\n};\nexport const TOGGLE_SEARCH_TO_TRUE = 'TOGGLE_SEARCH_TO_TRUE';\nexport const toggleSearchToTrue = () => dispatch => {\n  dispatch({\n    type: TOGGLE_SEARCH_TO_TRUE\n  });\n};\nexport const TOGGLE_SEARCH_TO_FALSE = 'TOGGLE_SEARCH_TO_FALSE';\nexport const toggleSearchToFalse = () => dispatch => {\n  dispatch({\n    type: TOGGLE_SEARCH_TO_FALSE\n  });\n}; // export const CHANGE_ORDER_POSTS = 'CHANGE_ORDER_POSTS';\n// export const  changeOrderPosts = (orderTerm) => dispatch => {\n//   dispatch({ type: CHANGE_ORDER_POSTS ,payload: orderTerm});\n// };\n\nexport const UPDATE_PAGE_NUMBER = \"UPDATE_PAGE_NUMBER\";\nexport const updatePageNumber = number => dispatch => {\n  console.log(number, \"number iin action post\");\n  dispatch({\n    type: UPDATE_PAGE_NUMBER,\n    payload: number\n  });\n};","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/client/src/store/actions/postActions.js"],"names":["axiosWithAuth","axios","ADD_POST_START","ADD_POST_SUCCESS","ADD_POST_FAILURE","addPost","post","dispatch","type","then","res","payload","data","catch","err","response","FETCH_POST_START","FETCH_POST_SUCCESS","FETCH_POST_FAILURE","fetchPosts","get","process","env","REACT_APP_API_URL","console","log","FETCH_FILTEREDPOST_START","FETCH_FILTEREDPOST_SUCCESS","FETCH_FILTEREDPOST_FAILURE","CHANGE_ORDER_POSTS","CURRENT_PAGE","fetchFilteredPosts","term","orderTerm","currentPage","category","order","UPDATE_PAGE_NUMBER","TOGGLE_SEARCH_TO_TRUE","toggleSearchToTrue","TOGGLE_SEARCH_TO_FALSE","toggleSearchToFalse","updatePageNumber","number"],"mappings":"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","sourcesContent":["\nimport { axiosWithAuth } from '../../helpers/index';\nimport axios from 'axios';\n\nexport const ADD_POST_START = 'ADD_POST_START';\nexport const ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\nexport const ADD_POST_FAILURE = 'ADD_POST_FAILURE';\n\nexport const addPost = post => dispatch => {\n\n  dispatch({ type: ADD_POST_START });\n  return axiosWithAuth()\n    .post('/post', post)\n    .then(res => {\n      // console.log(res.data,\"this is from the post action id\")\n      // const currentPostId=res.data.id\n      dispatch({ type: ADD_POST_SUCCESS, payload: res.data });\n      // return currentPostId\n\n    })\n    .catch(err => {\n      dispatch({ type: ADD_POST_FAILURE, payload: err.response });\n    });\n};\n\n\nexport const FETCH_POST_START = 'FETCH_POST_START';\nexport const FETCH_POST_SUCCESS = 'FETCH_POST_SUCCESS';\nexport const FETCH_POST_FAILURE = 'FETCH_POST_FAILURE';\n\n\nexport const fetchPosts = () => dispatch => {\n  dispatch({ type: FETCH_POST_START });\n  axios\n    .get(`${process.env.REACT_APP_API_URL}/post/all`)\n    .then(res => {\n      console.log(res.data, \"post\")\n      dispatch({ type: FETCH_POST_SUCCESS, payload: res.data });\n    })\n    .catch(err => {\n      dispatch({ type: FETCH_POST_FAILURE, payload: err.response });\n    });\n};\n\n\n\nexport const FETCH_FILTEREDPOST_START = 'FETCH_FILTEREDPOST_START';\nexport const FETCH_FILTEREDPOST_SUCCESS = 'FETCH_FILTEREDPOST_SUCCESS';\nexport const FETCH_FILTEREDPOST_FAILURE = 'FETCH_FILTEREDPOST_FAILURE';\n\nexport const CHANGE_ORDER_POSTS = 'CHANGE_ORDER_POSTS';\nexport const CURRENT_PAGE = 'CHANGE_ORDER_POSTS';\n\nexport const fetchFilteredPosts = (term,orderTerm,currentPage) => dispatch => {\n  console.log(orderTerm,\"term in actions\")\n  dispatch({ type: FETCH_FILTEREDPOST_START });\n  return axios\n    .post(`${process.env.REACT_APP_API_URL}/post/filterCategory`, { category: term , order: orderTerm,currentPage:currentPage })\n    .then(res => {\n      dispatch({ type: FETCH_FILTEREDPOST_SUCCESS, payload: res.data.data });\n      dispatch({ type: CHANGE_ORDER_POSTS ,payload: orderTerm});\n      dispatch({ type: UPDATE_PAGE_NUMBER ,payload: currentPage});\n    })\n    .catch(err => {\n      dispatch({ type: FETCH_FILTEREDPOST_FAILURE, payload: err.response });\n    });\n};\n\n\n\nexport const TOGGLE_SEARCH_TO_TRUE = 'TOGGLE_SEARCH_TO_TRUE';\n\nexport const toggleSearchToTrue = () => dispatch => {\n\n  dispatch({ type: TOGGLE_SEARCH_TO_TRUE });\n\n};\n\n\nexport const TOGGLE_SEARCH_TO_FALSE = 'TOGGLE_SEARCH_TO_FALSE';\n\nexport const toggleSearchToFalse = () => dispatch => {\n\n  dispatch({ type: TOGGLE_SEARCH_TO_FALSE });\n\n};\n\n\n// export const CHANGE_ORDER_POSTS = 'CHANGE_ORDER_POSTS';\n\n// export const  changeOrderPosts = (orderTerm) => dispatch => {\n\n//   dispatch({ type: CHANGE_ORDER_POSTS ,payload: orderTerm});\n\n// };\n\nexport const UPDATE_PAGE_NUMBER = \"UPDATE_PAGE_NUMBER\"\n\nexport const  updatePageNumber = (number) => dispatch => {\nconsole.log(number, \"number iin action post\")\n  dispatch({ type: UPDATE_PAGE_NUMBER ,payload: number});\n\n};"]},"metadata":{},"sourceType":"module"}