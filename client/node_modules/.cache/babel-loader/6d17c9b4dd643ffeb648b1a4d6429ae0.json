{"ast":null,"code":"import _regeneratorRuntime from\"/Users/roger/Projects/mechanic-frontend/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/roger/Projects/mechanic-frontend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/roger/Projects/mechanic-frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from'@material-ui/core/styles';import Fab from'@material-ui/core/Fab';import AddIcon from'@material-ui/icons/Add';import{green}from'@material-ui/core/colors';import CarAddModal from'./CarAddModal';import{axiosWithAuth}from'../helpers/index';import CarCard from'./CarCard';import Grid from'@material-ui/core/Grid';var useStyles=makeStyles(function(theme){return{root:{backgroundColor:theme.palette.background.paper,width:500,position:'relative',minHeight:200},fab:{position:'absolute',bottom:theme.spacing(2),right:theme.spacing(2)},fabGreen:{color:theme.palette.common.white,backgroundColor:green[500],'&:hover':{backgroundColor:green[600]}},margin:{margin:theme.spacing(1),boxShadow:\"0 16px 19px rgba(0,0,0,0.2), 0 15px 15px rgba(0,0,0,0.2)\",'&:hover':{boxShadow:\"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"}}};});function CarShow(props){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cars=_useState2[0],setCars=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),errorOpen=_useState6[0],setErrorOpen=_useState6[1];/**\n   * Modal Methods\n   */function handleOpen(){setOpen(true);}function handleErrorOpen(){setErrorOpen(true);}function handleClose(){setOpen(false);}function handleErrorClose(){setErrorOpen(false);}useEffect(function(){fetchCars();},[]);function fetchCars(){return _fetchCars.apply(this,arguments);}function _fetchCars(){_fetchCars=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axiosWithAuth().get(\"/cars\");case 2:res=_context.sent;setCars(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchCars.apply(this,arguments);}return React.createElement(React.Fragment,null,React.createElement(\"h1\",null,\"My Cars\"),React.createElement(Fab,{color:\"none\",\"aria-label\":\"add\",style:{color:\"darkcyan\",outline:'0'},className:classes.margin},React.createElement(AddIcon,{onClick:handleOpen})),React.createElement(CarAddModal,{open:open,onClose:handleClose,titleText:\"Car Form\",bodyText:\"\",redirect:\"/mycars\",redirectText:\"cars\"}),cars.length<1?React.createElement(\"div\",null,\"You have no Cars\"):React.createElement(Grid,{item:true,xs:12,sm:cars.length===1?12:12,md:cars.length===1?12:12,lg:cars.length===1?12:12,container:true,direction:\"row\",justify:\"space-evenly\"},cars.map(function(c){return React.createElement(React.Fragment,null,React.createElement(CarCard,{fetchCarsFunction:fetchCars,car:c,key:caches.uid,fetchCars:c.fetchCars}));})));};export default CarShow;","map":{"version":3,"sources":["/Users/roger/Projects/mechanic-frontend/client/src/components/CarShow.js"],"names":["React","useState","useEffect","makeStyles","Fab","AddIcon","green","CarAddModal","axiosWithAuth","CarCard","Grid","useStyles","theme","root","backgroundColor","palette","background","paper","width","position","minHeight","fab","bottom","spacing","right","fabGreen","color","common","white","margin","boxShadow","CarShow","props","classes","cars","setCars","open","setOpen","errorOpen","setErrorOpen","handleOpen","handleErrorOpen","handleClose","handleErrorClose","fetchCars","get","res","data","outline","length","map","c","caches","uid"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect} from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport { green } from '@material-ui/core/colors';\nimport CarAddModal from './CarAddModal';\nimport { axiosWithAuth } from '../helpers/index';\nimport CarCard from './CarCard'\nimport Grid from '@material-ui/core/Grid';\n\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 500,\n    position: 'relative',\n    minHeight: 200,\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n  fabGreen: {\n    color: theme.palette.common.white,\n    backgroundColor: green[500],\n    '&:hover': {\n      backgroundColor: green[600],\n    },\n  }, \n  margin: {\n    margin: theme.spacing(1),\n    boxShadow: \"0 16px 19px rgba(0,0,0,0.2), 0 15px 15px rgba(0,0,0,0.2)\",\n    '&:hover':{\n        boxShadow: \"0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22)\"\n      },\n  },\n \n}));\n\n\nfunction CarShow(props) {\n  const classes = useStyles();\n\n  const [cars,setCars] = useState([])\n  const [open, setOpen] = useState(false);\n  const [errorOpen, setErrorOpen] = useState(false);\n\n  /**\n   * Modal Methods\n   */\n\n  function handleOpen() {\n      setOpen(true);\n  }\n  function handleErrorOpen() {\n      setErrorOpen(true);\n  }\n  function handleClose() {\n      setOpen(false);\n  }\n  function handleErrorClose() {\n      setErrorOpen(false);\n  }\n  \n  \n  useEffect(() => {\n   \n    fetchCars()\n    \n}, []);\n\nasync function fetchCars() {\n  const res = await axiosWithAuth().get(`/cars`); \n  setCars(res.data);\n}\n\n    return (\n      <>\n        \n        <h1>My Cars</h1>\n\n        <Fab color=\"none\" aria-label=\"add\"  style={{color:\"darkcyan\",  outline:'0'}} className={classes.margin}>\n          <AddIcon\n           onClick={handleOpen}\n           />\n        </Fab>\n\n        <CarAddModal\n          open={open}\n          onClose={handleClose}\n          titleText={\"Car Form\"}\n          bodyText={\"\"}\n          redirect={\"/mycars\"}\n          redirectText={\"cars\"}\n          />\n\n        {/* <CarAddModal\n          open={errorOpen}\n          onClose={handleErrorClose}\n          titleText={\"Error creating car\"}\n          bodyText={\"Please try again\"}\n          redirect={\"\"}\n          redirectText={\"\"}\n        /> */}\n\n          \n\n          {cars.length < 1 ? <div>You have no Cars</div> :\n              <Grid \n      \n              item xs={12}\n              sm={cars.length === 1 ? 12 : 12}\n              md={cars.length === 1 ? 12 : 12}\n              lg={cars.length === 1 ? 12 : 12} \n              container direction=\"row\" justify=\"space-evenly\">\n                  {cars.map(c => {\n                      return (\n                        <>\n                        <CarCard  fetchCarsFunction={fetchCars} car={c}  key={caches.uid} fetchCars={c.fetchCars} />\n                        </>\n                     );\n                  })}\n              </Grid>\n            }\n          \n      </>\n    );\n};\n\n\n\nexport default CarShow;\n"]},"metadata":{},"sourceType":"module"}